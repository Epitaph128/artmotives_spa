import{_ as g,M as p,d as S,ai as D,N as r,O as u,P as i,Y as m,R as s,X as n,aj as l,T as C,W as d,Z as y,$ as k,y as v,ak as w,al as $,am as c,ap as b,aq as _}from"./index.e83fb6c8.js";import{Q}from"./QBtnGroup.5c63f25a.js";import{a as B,Q as T}from"./QItem.58c1d596.js";import{Q as V}from"./QPage.1952db83.js";import{d as h}from"./date.73c2f1ba.js";import{u as q,Q as Y}from"./QSpinnerFacebook.b6e4d841.js";import{u as M}from"./store_dreams.43dc5954.js";import{u as x}from"./store_successes.1644c946.js";import{u as f}from"./store_settings.87ab6a6e.js";const z=p({name:"DreamsPage",data(){return[]},created(){this.showLoading()},beforeMount(){this.dreamsStore=M(),this.dreamsStore.initialize(),this.successesStore=x(),this.successesStore.initialize(),this.settingsStore=f(),this.settingsStore.initialize(),this.$emit("refresh-header")},setup(){const e=q();let t;return S(()=>{t!==void 0&&(clearTimeout(t),e.loading.hide())}),{showLoading(){e.loading.show({spinner:Y,spinnerColor:"white",spinnerSize:140,backgroundColor:"black",message:"Loading your dreams... Please wait!",messageColor:"white"}),t=setTimeout(()=>{e.loading.hide(),t=void 0},500)}}},computed:{...D(f,["useBigButtons"]),buttonClass(){return this.useBigButtons?"bigBtn":""}},methods:{completeDream(e){if(!e.ready){e.ready=!0,this.$q.notify("Click again to mark complete!");return}this.$q.dialog({title:"Confirm",message:'Confirm you achieved your dream: "'+e.title+'"',cancel:!0,persistent:!0}).onOk(()=>{var t=2500;this.$q.notify("Rewarded "+t+" coins for completion!"),this.settingsStore.coins=this.settingsStore.coins+t,this.settingsStore.totalCoins=this.settingsStore.totalCoins+t,e.date=this.getDateWithTime(),e.dateTieBreaker=this.getTime(),e.type="dream",this.successesStore.addEntry(e),this.$q.notify("Dream achieved: "+e.title+"!"),this.settingsStore.saveCoins(),this.dreamsStore.removeDream(e),this.$emit("refresh-header")})},removeDream(e){this.$q.dialog({title:"Confirm",message:"Are you sure you want to delete this dream?",cancel:!0,persistent:!0}).onOk(()=>{this.$q.notify("Dream Deleted."),this.dreamsStore.removeDream(e)})},getDate(){const e=Date().toString();return h.formatDate(e,"MMM D, YYYY")},getDateWithTime(){const e=Date().toString();return h.formatDate(e,"MMM D, YYYY, hh:mm A")},getTime(){return new Date().getTime()}}}),L={class:"flex justify-center q-mb-lg"},N={class:"notes-data"},P=m("br",null,null,-1),U={class:"text-subtitle2"},A={key:0},F={key:1};function O(e,t,R,W,j,E){return r(),u(V,{"items-center":"",class:"dreams-page"},{default:i(()=>[m("div",L,[s(Q,{"no-wrap":""},{default:i(()=>[s(n,{class:l([e.buttonClass,"top-button"]),onClick:t[0]||(t[0]=a=>this.dreamsStore.addDream())},{default:i(()=>[C("New Dream")]),_:1},8,["class"])]),_:1})]),s(B,null,{default:i(()=>[(r(!0),d(k,null,y(this.dreamsStore.dreams,a=>v((r(),u(T,{key:a},{default:i(()=>[s(w,{class:"notes-card text-white full-width outlined"},{default:i(()=>[s($,null,{default:i(()=>[m("div",N,[s(c,{multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,standout:"bg-primary text-black",class:"full-width text-h6","input-class":"text-left",label:"Dream Title",modelValue:a.title,"onUpdate:modelValue":[o=>a.title=o,t[1]||(t[1]=o=>this.dreamsStore.saveDreams())],onFocus:t[2]||(t[2]=o=>this.$q.notify("Dream will be saved once you enter a title"))},null,8,["modelValue","onUpdate:modelValue"]),P,m("div",U,[s(c,{"no-outline":"",style:{"padding-right":"1em","min-width":"35%"},"input-class":"text-left",label:"Dream Created",modelValue:a.createdDate,"onUpdate:modelValue":o=>a.createdDate=o,readonly:""},null,8,["modelValue","onUpdate:modelValue"])])])]),_:2},1024),s(b,null,{default:i(()=>[a.ready?(r(),d("div",A,[s(n,{class:l(e.buttonClass),flat:"",dense:"",glossy:"",icon:"done_all",color:"green",onClick:o=>e.completeDream(a)},null,8,["class","onClick"])])):(r(),d("div",F,[s(n,{class:l(e.buttonClass),flat:"",dense:"",glossy:"",icon:"check",color:"green",onClick:o=>e.completeDream(a)},null,8,["class","onClick"])])),s(n,{class:l(e.buttonClass),style:{margin:"0"},flat:"",dense:"",glossy:"",icon:"delete",color:"black",onClick:o=>e.removeDream(a)},null,8,["class","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[_]])),128))]),_:1})]),_:1})}var se=g(z,[["render",O]]);export{se as default};
