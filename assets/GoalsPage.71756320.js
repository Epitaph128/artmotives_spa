import{c as ct,aC as ft,aD as Ut,aE as Lt,aF as Pt,p as sl,aw as ul,s as rl,ax as dl,a as S,z as cl,g as vt,h as k,Q as We,ay as fl,aq as ut,a4 as me,n as vl,r as L,w as Ce,e as ne,aG as ml,aH as hl,aI as Sl,aJ as gl,d as mt,ar as pl,aK as yl,aL as At,aM as ze,aN as bl,aO as wl,D as it,aP as kl,ae as Ve,a3 as Vl,aQ as Cl,an as rt,L as Dl,_ as xl,M as ql,ai as $l,N as _,O as Me,P as z,Y as D,R as c,X as E,aj as Q,T as X,U as ve,W as B,S as Ie,Z as Ke,$ as je,y as Ye,ak as Gt,al as Al,am as Ee,aR as ie,aS as _t,ao as Gl,ap as Tt}from"./index.fd4f5729.js";import{Q as zt}from"./QBtnGroup.c81d2869.js";import{Q as Mt}from"./QCircularProgress.d9ec59b2.js";import{Q as dt,a as It}from"./QItem.d6c435ef.js";import{Q as _l}from"./QItemSection.f7a23ae1.js";import{Q as Tl}from"./QItemLabel.e22b83f9.js";import{Q as zl}from"./QMenu.f14a1602.js";import{n as Et,d as nt}from"./date.84294c76.js";import{Q as Ml,C as Bt}from"./ClosePopup.88ac6691.js";import{Q as Il}from"./QTime.d12b8fcb.js";import{Q as El}from"./QPage.b017c7b4.js";import{u as Bl,Q as Rl}from"./QSpinnerFacebook.b37f741f.js";import{u as Fl}from"./store_goals.c534acb1.js";import{u as Ol}from"./store_successes.b20e54c2.js";import{u as Rt}from"./store_settings.678390b5.js";import"./selection.474f5efe.js";import"./TouchPan.70d0cca6.js";var Ul=ct({name:"QField",inheritAttrs:!1,props:{...ft,tag:{type:String,default:"label"}},emits:Ut,setup(){return Lt(Pt({requiredForAttr:!1,tagProp:!0}))}});const Ll={xs:8,sm:10,md:14,lg:20,xl:24};var Pl=ct({name:"QChip",props:{...sl,...ul,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:d}){const{proxy:{$q:g}}=vt(),q=rl(e,g),s=dl(e,Ll),i=S(()=>e.selected===!0||e.icon!==void 0),o=S(()=>e.selected===!0?e.iconSelected||g.iconSet.chip.selected:e.icon),h=S(()=>e.iconRemove||g.iconSet.chip.remove),b=S(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),f=S(()=>{const m=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(m?` text-${m} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(b.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(q.value===!0?" q-chip--dark q-dark":"")}),V=S(()=>{const m=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},K={...m,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||g.lang.label.remove};return{chip:m,remove:K}});function x(m){m.keyCode===13&&$(m)}function $(m){e.disable||(d("update:selected",!e.selected),d("click",m))}function M(m){(m.keyCode===void 0||m.keyCode===13)&&(me(m),e.disable===!1&&(d("update:modelValue",!1),d("remove")))}function N(){const m=[];b.value===!0&&m.push(k("div",{class:"q-focus-helper"})),i.value===!0&&m.push(k(We,{class:"q-chip__icon q-chip__icon--left",name:o.value}));const K=e.label!==void 0?[k("div",{class:"ellipsis"},[e.label])]:void 0;return m.push(k("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},fl(l.default,K))),e.iconRight&&m.push(k(We,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&m.push(k(We,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...V.value.remove,onClick:M,onKeyup:M})),m}return()=>{if(e.modelValue===!1)return;const m={class:f.value,style:s.value};return b.value===!0&&Object.assign(m,V.value.chip,{onClick:$,onKeyup:x}),cl("div",m,N(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ut,e.ripple]])}}});let Xe=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,Xe=e.scrollLeft>=0,e.remove()}const J=1e3,Hl=["start","center","end","start-force","center-force","end-force"],Ht=Array.prototype.filter,Ql=window.getComputedStyle(document.body).overflowAnchor===void 0?vl:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const d=e.children||[];Ht.call(d,q=>q.dataset&&q.dataset.qVsAnchor!==void 0).forEach(q=>{delete q.dataset.qVsAnchor});const g=d[l];g&&g.dataset&&(g.dataset.qVsAnchor="")}))};function De(e,l){return e+l}function st(e,l,d,g,q,s,i,o){const h=e===window?document.scrollingElement||document.documentElement:e,b=q===!0?"offsetWidth":"offsetHeight",f={scrollStart:0,scrollViewSize:-i-o,scrollMaxSize:0,offsetStart:-i,offsetEnd:-o};if(q===!0?(e===window?(f.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,f.scrollViewSize+=document.documentElement.clientWidth):(f.scrollStart=h.scrollLeft,f.scrollViewSize+=h.clientWidth),f.scrollMaxSize=h.scrollWidth,s===!0&&(f.scrollStart=(Xe===!0?f.scrollMaxSize-f.scrollViewSize:0)-f.scrollStart)):(e===window?(f.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,f.scrollViewSize+=document.documentElement.clientHeight):(f.scrollStart=h.scrollTop,f.scrollViewSize+=h.clientHeight),f.scrollMaxSize=h.scrollHeight),d!==null)for(let V=d.previousElementSibling;V!==null;V=V.previousElementSibling)V.classList.contains("q-virtual-scroll--skip")===!1&&(f.offsetStart+=V[b]);if(g!==null)for(let V=g.nextElementSibling;V!==null;V=V.nextElementSibling)V.classList.contains("q-virtual-scroll--skip")===!1&&(f.offsetEnd+=V[b]);if(l!==e){const V=h.getBoundingClientRect(),x=l.getBoundingClientRect();q===!0?(f.offsetStart+=x.left-V.left,f.offsetEnd-=x.width):(f.offsetStart+=x.top-V.top,f.offsetEnd-=x.height),e!==window&&(f.offsetStart+=f.scrollStart),f.offsetEnd+=f.scrollMaxSize-f.offsetStart}return f}function Ft(e,l,d,g){l==="end"&&(l=(e===window?document.body:e)[d===!0?"scrollWidth":"scrollHeight"]),e===window?d===!0?(g===!0&&(l=(Xe===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):d===!0?(g===!0&&(l=(Xe===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Be(e,l,d,g){if(d>=g)return 0;const q=l.length,s=Math.floor(d/J),i=Math.floor((g-1)/J)+1;let o=e.slice(s,i).reduce(De,0);return d%J!==0&&(o-=l.slice(s*J,d).reduce(De,0)),g%J!==0&&g!==q&&(o-=l.slice(g,i*J).reduce(De,0)),o}const Nl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Kl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Nl};function jl({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:d,virtualScrollItemSizeComputed:g}){const q=vt(),{props:s,emit:i,proxy:o}=q,{$q:h}=o;let b,f,V,x=[],$;const M=L(0),N=L(0),m=L({}),K=L(null),le=L(null),H=L(null),R=L({from:0,to:0}),Re=S(()=>s.tableColspan!==void 0?s.tableColspan:100);g===void 0&&(g=S(()=>s.virtualScrollItemSize));const F=S(()=>g.value+";"+s.virtualScrollHorizontal),oe=S(()=>F.value+";"+s.virtualScrollSliceRatioBefore+";"+s.virtualScrollSliceRatioAfter);Ce(oe,()=>{Z()}),Ce(F,se);function se(){he(f,!0)}function xe(a){he(a===void 0?f:a)}function ue(a,r){const p=l();if(p==null||p.nodeType===8)return;const T=st(p,d(),K.value,le.value,s.virtualScrollHorizontal,h.lang.rtl,s.virtualScrollStickySizeStart,s.virtualScrollStickySizeEnd);V!==T.scrollViewSize&&Z(T.scrollViewSize),j(p,T,Math.min(e.value-1,Math.max(0,parseInt(a,10)||0)),0,Hl.indexOf(r)!==-1?r:f!==-1&&a>f?"end":"start")}function Fe(){const a=l();if(a==null||a.nodeType===8)return;const r=st(a,d(),K.value,le.value,s.virtualScrollHorizontal,h.lang.rtl,s.virtualScrollStickySizeStart,s.virtualScrollStickySizeEnd),p=e.value-1,T=r.scrollMaxSize-r.offsetStart-r.offsetEnd-N.value;if(b===r.scrollStart)return;if(r.scrollMaxSize<=0){j(a,r,0,0);return}V!==r.scrollViewSize&&Z(r.scrollViewSize),qe(R.value.from);const O=Math.floor(r.scrollMaxSize-Math.max(r.scrollViewSize,r.offsetEnd)-Math.min($[p],r.scrollViewSize/2));if(O>0&&Math.ceil(r.scrollStart)>=O){j(a,r,p,r.scrollMaxSize-r.offsetEnd-x.reduce(De,0));return}let C=0,w=r.scrollStart-r.offsetStart,U=w;if(w<=T&&w+r.scrollViewSize>=M.value)w-=M.value,C=R.value.from,U=w;else for(let y=0;w>=x[y]&&C<p;y++)w-=x[y],C+=J;for(;w>0&&C<p;)w-=$[C],w>-r.scrollViewSize?(C++,U=w):U=$[C]+w;j(a,r,C,U)}function j(a,r,p,T,O){const C=typeof O=="string"&&O.indexOf("-force")!==-1,w=C===!0?O.replace("-force",""):O,U=w!==void 0?w:"start";let y=Math.max(0,p-m.value[U]),Y=y+m.value.total;Y>e.value&&(Y=e.value,y=Math.max(0,Y-m.value.total)),b=r.scrollStart;const ae=y!==R.value.from||Y!==R.value.to;if(ae===!1&&w===void 0){$e(p);return}const{activeElement:Ue}=document,ee=H.value;ae===!0&&ee!==null&&ee!==Ue&&ee.contains(Ue)===!0&&(ee.addEventListener("focusout",Oe),setTimeout(()=>{ee!==null&&ee.removeEventListener("focusout",Oe)})),Ql(ee,p-y);const Le=w!==void 0?$.slice(y,p).reduce(De,0):0;if(ae===!0){const re=Y>=R.value.from&&y<=R.value.to?R.value.to:Y;R.value={from:y,to:re},M.value=Be(x,$,0,y),N.value=Be(x,$,Y,e.value),requestAnimationFrame(()=>{R.value.to!==Y&&b===r.scrollStart&&(R.value={from:R.value.from,to:Y},N.value=Be(x,$,Y,e.value))})}requestAnimationFrame(()=>{if(b!==r.scrollStart)return;ae===!0&&qe(y);const re=$.slice(y,p).reduce(De,0),de=re+r.offsetStart+M.value,Pe=de+$[p];let Ge=de+T;if(w!==void 0){const Ze=re-Le,_e=r.scrollStart+Ze;Ge=C!==!0&&_e<de&&Pe<_e+r.scrollViewSize?_e:w==="end"?Pe-r.scrollViewSize:de-(w==="start"?0:Math.round((r.scrollViewSize-$[p])/2))}b=Ge,Ft(a,Ge,s.virtualScrollHorizontal,h.lang.rtl),$e(p)})}function qe(a){const r=H.value;if(r){const p=Ht.call(r.children,y=>y.classList&&y.classList.contains("q-virtual-scroll--skip")===!1),T=p.length,O=s.virtualScrollHorizontal===!0?y=>y.getBoundingClientRect().width:y=>y.offsetHeight;let C=a,w,U;for(let y=0;y<T;){for(w=O(p[y]),y++;y<T&&p[y].classList.contains("q-virtual-scroll--with-prev")===!0;)w+=O(p[y]),y++;U=w-$[C],U!==0&&($[C]+=U,x[Math.floor(C/J)]+=U),C++}}}function Oe(){H.value!==null&&H.value!==void 0&&H.value.focus()}function he(a,r){const p=1*g.value;(r===!0||Array.isArray($)===!1)&&($=[]);const T=$.length;$.length=e.value;for(let C=e.value-1;C>=T;C--)$[C]=p;const O=Math.floor((e.value-1)/J);x=[];for(let C=0;C<=O;C++){let w=0;const U=Math.min((C+1)*J,e.value);for(let y=C*J;y<U;y++)w+=$[y];x.push(w)}f=-1,b=void 0,M.value=Be(x,$,0,R.value.from),N.value=Be(x,$,R.value.to,e.value),a>=0?(qe(R.value.from),ne(()=>{ue(a)})):Se()}function Z(a){if(a===void 0&&typeof window!="undefined"){const w=l();w!=null&&w.nodeType!==8&&(a=st(w,d(),K.value,le.value,s.virtualScrollHorizontal,h.lang.rtl,s.virtualScrollStickySizeStart,s.virtualScrollStickySizeEnd).scrollViewSize)}V=a;const r=parseFloat(s.virtualScrollSliceRatioBefore)||0,p=parseFloat(s.virtualScrollSliceRatioAfter)||0,T=1+r+p,O=a===void 0||a<=0?1:Math.ceil(a/g.value),C=Math.max(1,O,Math.ceil((s.virtualScrollSliceSize>0?s.virtualScrollSliceSize:10)/T));m.value={total:Math.ceil(C*T),start:Math.ceil(C*r),center:Math.ceil(C*(.5+r)),end:Math.ceil(C*(1+r)),view:O}}function Je(a,r){const p=s.virtualScrollHorizontal===!0?"width":"height",T={["--q-virtual-scroll-item-"+p]:g.value+"px"};return[a==="tbody"?k(a,{class:"q-virtual-scroll__padding",key:"before",ref:K},[k("tr",[k("td",{style:{[p]:`${M.value}px`,...T},colspan:Re.value})])]):k(a,{class:"q-virtual-scroll__padding",key:"before",ref:K,style:{[p]:`${M.value}px`,...T}}),k(a,{class:"q-virtual-scroll__content",key:"content",ref:H,tabindex:-1},r.flat()),a==="tbody"?k(a,{class:"q-virtual-scroll__padding",key:"after",ref:le},[k("tr",[k("td",{style:{[p]:`${N.value}px`,...T},colspan:Re.value})])]):k(a,{class:"q-virtual-scroll__padding",key:"after",ref:le,style:{[p]:`${N.value}px`,...T}})]}function $e(a){f!==a&&(s.onVirtualScroll!==void 0&&i("virtualScroll",{index:a,from:R.value.from,to:R.value.to-1,direction:a<f?"decrease":"increase",ref:o}),f=a)}Z();const Se=ml(Fe,h.platform.is.ios===!0?120:35);hl(()=>{Z()});let Ae=!1;return Sl(()=>{Ae=!0}),gl(()=>{if(Ae!==!0)return;const a=l();b!==void 0&&a!==void 0&&a!==null&&a.nodeType!==8?Ft(a,b,s.virtualScrollHorizontal,h.lang.rtl):ue(f)}),mt(()=>{Se.cancel()}),Object.assign(o,{scrollTo:ue,reset:se,refresh:xe}),{virtualScrollSliceRange:R,virtualScrollSliceSizeComputed:m,setVirtualScrollSize:Z,onVirtualScrollEvt:Se,localResetVirtualScroll:he,padVirtualScroll:Je,scrollTo:ue,reset:se,refresh:xe}}const Ot=e=>["add","add-unique","toggle"].includes(e),Yl=".*+?^${}()|[]\\",Wl=Object.keys(ft);var Xl=ct({name:"QSelect",inheritAttrs:!1,props:{...Kl,...pl,...ft,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ot},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Ut,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:l,emit:d}){const{proxy:g}=vt(),{$q:q}=g,s=L(!1),i=L(!1),o=L(-1),h=L(""),b=L(!1),f=L(!1);let V=null,x=null,$,M,N,m=null,K,le,H,R;const Re=L(null),F=L(null),oe=L(null),se=L(null),xe=L(null),ue=yl(e),Fe=kl(Ct),j=S(()=>Array.isArray(e.options)?e.options.length:0),qe=S(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Oe,virtualScrollSliceSizeComputed:he,localResetVirtualScroll:Z,padVirtualScroll:Je,onVirtualScrollEvt:$e,scrollTo:Se,setVirtualScrollSize:Ae}=jl({virtualScrollLength:j,getVirtualScrollTarget:jt,getVirtualScrollEl:kt,virtualScrollItemSizeComputed:qe}),a=Pt(),r=S(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,u=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const n=e.mapOptions===!0&&$!==void 0?$:[],v=u.map(G=>Kt(G,n));return e.modelValue===null&&t===!0?v.filter(G=>G!==null):v}return u}),p=S(()=>{const t={};return Wl.forEach(u=>{const n=e[u];n!==void 0&&(t[u]=n)}),t}),T=S(()=>e.optionsDark===null?a.isDark.value:e.optionsDark),O=S(()=>At(r.value)),C=S(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||r.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),w=S(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),U=S(()=>j.value===0),y=S(()=>r.value.map(t=>W.value(t)).join(", ")),Y=S(()=>e.displayValue!==void 0?e.displayValue:y.value),ae=S(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Ue=S(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||r.value.some(ae.value))),ee=S(()=>a.focused.value===!0?e.tabindex:-1),Le=S(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":s.value===!0?"true":"false","aria-controls":`${a.targetUid.value}_lb`};return o.value>=0&&(t["aria-activedescendant"]=`${a.targetUid.value}_${o.value}`),t}),re=S(()=>({id:`${a.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),de=S(()=>r.value.map((t,u)=>({index:u,opt:t,html:ae.value(t),selected:!0,removeAtIndex:Nt,toggleOption:ce,tabindex:ee.value}))),Pe=S(()=>{if(j.value===0)return[];const{from:t,to:u}=Oe.value;return e.options.slice(t,u).map((n,v)=>{const G=ge.value(n)===!0,A=lt(n)===!0,P=t+v,I={clickable:!0,active:A,activeClass:_e.value,manualFocus:!0,focused:!1,disable:G,tabindex:-1,dense:e.optionsDense,dark:T.value,role:"option","aria-selected":A===!0?"true":"false",id:`${a.targetUid.value}_${P}`,onClick:()=>{ce(n)}};return G!==!0&&(o.value===P&&(I.focused=!0),q.platform.is.desktop===!0&&(I.onMousemove=()=>{s.value===!0&&pe(P)})),{index:P,opt:n,html:ae.value(n),label:W.value(n),selected:I.active,focused:I.focused,toggleOption:ce,setOptionIndex:pe,itemProps:I}})}),Ge=S(()=>e.dropdownIcon!==void 0?e.dropdownIcon:q.iconSet.arrow.dropdown),Ze=S(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),_e=S(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),te=S(()=>tt(e.optionValue,"value")),W=S(()=>tt(e.optionLabel,"label")),ge=S(()=>tt(e.optionDisable,"disable")),He=S(()=>r.value.map(t=>te.value(t))),Qt=S(()=>{const t={onInput:Ct,onChange:Fe,onKeydown:wt,onKeyup:yt,onKeypress:bt,onFocus:gt,onClick(u){M===!0&&Ve(u)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Fe,t});Ce(r,t=>{$=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&a.innerLoading.value!==!0&&(i.value!==!0&&s.value!==!0||O.value!==!0)&&(N!==!0&&ke(),(i.value===!0||s.value===!0)&&ye(""))},{immediate:!0}),Ce(()=>e.fillInput,ke),Ce(s,ot),Ce(j,nl);function ht(t){return e.emitValue===!0?te.value(t):t}function et(t){if(t!==-1&&t<r.value.length)if(e.multiple===!0){const u=e.modelValue.slice();d("remove",{index:t,value:u.splice(t,1)[0]}),d("update:modelValue",u)}else d("update:modelValue",null)}function Nt(t){et(t),a.focus()}function St(t,u){const n=ht(t);if(e.multiple!==!0){e.fillInput===!0&&Te(W.value(t),!0,!0),d("update:modelValue",n);return}if(r.value.length===0){d("add",{index:0,value:n}),d("update:modelValue",e.multiple===!0?[n]:n);return}if(u===!0&&lt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const v=e.modelValue.slice();d("add",{index:v.length,value:n}),v.push(n),d("update:modelValue",v)}function ce(t,u){if(a.editable.value!==!0||t===void 0||ge.value(t)===!0)return;const n=te.value(t);if(e.multiple!==!0){u!==!0&&(Te(e.fillInput===!0?W.value(t):"",!0,!0),fe()),F.value!==null&&F.value.focus(),(r.value.length===0||ze(te.value(r.value[0]),n)!==!0)&&d("update:modelValue",e.emitValue===!0?n:t);return}if((M!==!0||b.value===!0)&&a.focus(),gt(),r.value.length===0){const A=e.emitValue===!0?n:t;d("add",{index:0,value:A}),d("update:modelValue",e.multiple===!0?[A]:A);return}const v=e.modelValue.slice(),G=He.value.findIndex(A=>ze(A,n));if(G!==-1)d("remove",{index:G,value:v.splice(G,1)[0]});else{if(e.maxValues!==void 0&&v.length>=e.maxValues)return;const A=e.emitValue===!0?n:t;d("add",{index:v.length,value:A}),v.push(A)}d("update:modelValue",v)}function pe(t){if(q.platform.is.desktop!==!0)return;const u=t!==-1&&t<j.value?t:-1;o.value!==u&&(o.value=u)}function Qe(t=1,u){if(s.value===!0){let n=o.value;do n=Et(n+t,-1,j.value-1);while(n!==-1&&n!==o.value&&ge.value(e.options[n])===!0);o.value!==n&&(pe(n),Se(n),u!==!0&&e.useInput===!0&&e.fillInput===!0&&Ne(n>=0?W.value(e.options[n]):K,!0))}}function Kt(t,u){const n=v=>ze(te.value(v),t);return e.options.find(n)||u.find(n)||t}function tt(t,u){const n=t!==void 0?t:u;return typeof n=="function"?n:v=>v!==null&&typeof v=="object"&&n in v?v[n]:v}function lt(t){const u=te.value(t);return He.value.find(n=>ze(n,u))!==void 0}function gt(t){e.useInput===!0&&F.value!==null&&(t===void 0||F.value===t.target&&t.target.value===y.value)&&F.value.select()}function pt(t){Vl(t,27)===!0&&s.value===!0&&(Ve(t),fe(),ke()),d("keyup",t)}function yt(t){const{value:u}=t.target;if(t.keyCode!==void 0){pt(t);return}if(t.target.value="",V!==null&&(clearTimeout(V),V=null),x!==null&&(clearTimeout(x),x=null),ke(),typeof u=="string"&&u.length!==0){const n=u.toLocaleLowerCase(),v=A=>{const P=e.options.find(I=>A.value(I).toLocaleLowerCase()===n);return P===void 0?!1:(r.value.indexOf(P)===-1?ce(P):fe(),!0)},G=A=>{v(te)!==!0&&(v(W)===!0||A===!0||ye(u,!0,()=>G(!0)))};G()}else a.clearValue(t)}function bt(t){d("keypress",t)}function wt(t){if(d("keydown",t),Cl(t)===!0)return;const u=h.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),n=t.shiftKey!==!0&&e.multiple!==!0&&(o.value!==-1||u===!0);if(t.keyCode===27){it(t);return}if(t.keyCode===9&&n===!1){be();return}if(t.target===void 0||t.target.id!==a.targetUid.value||a.editable.value!==!0)return;if(t.keyCode===40&&a.innerLoading.value!==!0&&s.value===!1){me(t),we();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?et(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&d("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(me(t),o.value=-1,Qe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&he.value!==void 0&&(me(t),o.value=Math.max(-1,Math.min(j.value,o.value+(t.keyCode===33?-1:1)*he.value.view)),Qe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(me(t),Qe(t.keyCode===38?-1:1,e.multiple));const v=j.value;if((H===void 0||R<Date.now())&&(H=""),v>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||H.length!==0)){s.value!==!0&&we(t);const G=t.key.toLocaleLowerCase(),A=H.length===1&&H[0]===G;R=Date.now()+1500,A===!1&&(me(t),H+=G);const P=new RegExp("^"+H.split("").map(at=>Yl.indexOf(at)!==-1?"\\"+at:at).join(".*"),"i");let I=o.value;if(A===!0||I<0||P.test(W.value(e.options[I]))!==!0)do I=Et(I+1,-1,v-1);while(I!==o.value&&(ge.value(e.options[I])===!0||P.test(W.value(e.options[I]))!==!0));o.value!==I&&ne(()=>{pe(I),Se(I),I>=0&&e.useInput===!0&&e.fillInput===!0&&Ne(W.value(e.options[I]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||H!=="")&&(t.keyCode!==9||n===!1))){if(t.keyCode!==9&&me(t),o.value!==-1&&o.value<v){ce(e.options[o.value]);return}if(u===!0){const G=(A,P)=>{if(P){if(Ot(P)!==!0)return}else P=e.newValueMode;if(Te("",e.multiple!==!0,!0),A==null)return;(P==="toggle"?ce:St)(A,P==="add-unique"),e.multiple!==!0&&(F.value!==null&&F.value.focus(),fe())};if(e.onNewValue!==void 0?d("newValue",h.value,G):G(h.value),e.multiple!==!0)return}s.value===!0?be():a.innerLoading.value!==!0&&we()}}function kt(){return M===!0?xe.value:oe.value!==null&&oe.value.contentEl!==null?oe.value.contentEl:void 0}function jt(){return kt()}function Yt(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?de.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?de.value.map((t,u)=>k(Pl,{key:"option-"+u,removable:a.editable.value===!0&&ge.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ee.value,onRemove(){t.removeAtIndex(u)}},()=>k("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:W.value(t.opt)}))):[k("span",{[Ue.value===!0?"innerHTML":"textContent"]:Y.value})]}function Vt(){if(U.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:h.value}):void 0;const t=l.option!==void 0?l.option:n=>k(dt,{key:n.index,...n.itemProps},()=>k(_l,()=>k(Tl,()=>k("span",{[n.html===!0?"innerHTML":"textContent"]:n.label}))));let u=Je("div",Pe.value.map(t));return l["before-options"]!==void 0&&(u=l["before-options"]().concat(u)),Dl(l["after-options"],u)}function Wt(t,u){const n=u===!0?{...Le.value,...a.splitAttrs.attributes.value}:void 0,v={ref:u===!0?F:void 0,key:"i_t",class:C.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...n,id:u===!0?a.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Qt.value};return t!==!0&&M===!0&&(Array.isArray(v.class)===!0?v.class=[...v.class,"no-pointer-events"]:v.class+=" no-pointer-events"),k("input",v)}function Ct(t){V!==null&&(clearTimeout(V),V=null),x!==null&&(clearTimeout(x),x=null),!(t&&t.target&&t.target.qComposing===!0)&&(Ne(t.target.value||""),N=!0,K=h.value,a.focused.value!==!0&&(M!==!0||b.value===!0)&&a.focus(),e.onFilter!==void 0&&(V=setTimeout(()=>{V=null,ye(h.value)},e.inputDebounce)))}function Ne(t,u){h.value!==t&&(h.value=t,u===!0||e.inputDebounce===0||e.inputDebounce==="0"?d("inputValue",t):x=setTimeout(()=>{x=null,d("inputValue",t)},e.inputDebounce))}function Te(t,u,n){N=n!==!0,e.useInput===!0&&(Ne(t,!0),(u===!0||n!==!0)&&(K=t),u!==!0&&ye(t))}function ye(t,u,n){if(e.onFilter===void 0||u!==!0&&a.focused.value!==!0)return;a.innerLoading.value===!0?d("filterAbort"):(a.innerLoading.value=!0,f.value=!0),t!==""&&e.multiple!==!0&&r.value.length!==0&&N!==!0&&t===W.value(r.value[0])&&(t="");const v=setTimeout(()=>{s.value===!0&&(s.value=!1)},10);m!==null&&clearTimeout(m),m=v,d("filter",t,(G,A)=>{(u===!0||a.focused.value===!0)&&m===v&&(clearTimeout(m),typeof G=="function"&&G(),f.value=!1,ne(()=>{a.innerLoading.value=!1,a.editable.value===!0&&(u===!0?s.value===!0&&fe():s.value===!0?ot(!0):s.value=!0),typeof A=="function"&&ne(()=>{A(g)}),typeof n=="function"&&ne(()=>{n(g)})}))},()=>{a.focused.value===!0&&m===v&&(clearTimeout(m),a.innerLoading.value=!1,f.value=!1),s.value===!0&&(s.value=!1)})}function Xt(){return k(zl,{ref:oe,class:w.value,style:e.popupContentStyle,modelValue:s.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&U.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:T.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Ze.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...re.value,onScrollPassive:$e,onBeforeShow:xt,onBeforeHide:Jt,onShow:Zt},Vt)}function Jt(t){qt(t),be()}function Zt(){Ae()}function el(t){Ve(t),F.value!==null&&F.value.focus(),b.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function tl(t){Ve(t),ne(()=>{b.value=!1})}function ll(){const t=[k(Ul,{class:`col-auto ${a.fieldClass.value}`,...p.value,for:a.targetUid.value,dark:T.value,square:!0,loading:f.value,itemAligned:!1,filled:!0,stackLabel:h.value.length!==0,...a.splitAttrs.listeners.value,onFocus:el,onBlur:tl},{...l,rawControl:()=>a.getControl(!0),before:void 0,after:void 0})];return s.value===!0&&t.push(k("div",{ref:xe,class:w.value+" scroll",style:e.popupContentStyle,...re.value,onClick:it,onScrollPassive:$e},Vt())),k(rt,{ref:se,modelValue:i.value,position:e.useInput===!0?"top":void 0,transitionShow:le,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:xt,onBeforeHide:ol,onHide:al,onShow:il},()=>k("div",{class:"q-select__dialog"+(T.value===!0?" q-select__dialog--dark q-dark":"")+(b.value===!0?" q-select__dialog--focused":"")},t))}function ol(t){qt(t),se.value!==null&&se.value.__updateRefocusTarget(a.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),a.focused.value=!1}function al(t){fe(),a.focused.value===!1&&d("blur",t),ke()}function il(){const t=document.activeElement;(t===null||t.id!==a.targetUid.value)&&F.value!==null&&F.value!==t&&F.value.focus(),Ae()}function be(){i.value!==!0&&(o.value=-1,s.value===!0&&(s.value=!1),a.focused.value===!1&&(m!==null&&(clearTimeout(m),m=null),a.innerLoading.value===!0&&(d("filterAbort"),a.innerLoading.value=!1,f.value=!1)))}function we(t){a.editable.value===!0&&(M===!0?(a.onControlFocusin(t),i.value=!0,ne(()=>{a.focus()})):a.focus(),e.onFilter!==void 0?ye(h.value):(U.value!==!0||l["no-option"]!==void 0)&&(s.value=!0))}function fe(){i.value=!1,be()}function ke(){e.useInput===!0&&Te(e.multiple!==!0&&e.fillInput===!0&&r.value.length!==0&&W.value(r.value[0])||"",!0,!0)}function ot(t){let u=-1;if(t===!0){if(r.value.length!==0){const n=te.value(r.value[0]);u=e.options.findIndex(v=>ze(te.value(v),n))}Z(u)}pe(u)}function nl(t,u){s.value===!0&&a.innerLoading.value===!1&&(Z(-1,!0),ne(()=>{s.value===!0&&a.innerLoading.value===!1&&(t>u?Z():ot(!0))}))}function Dt(){i.value===!1&&oe.value!==null&&oe.value.updatePosition()}function xt(t){t!==void 0&&Ve(t),d("popupShow",t),a.hasPopupOpen=!0,a.onControlFocusin(t)}function qt(t){t!==void 0&&Ve(t),d("popupHide",t),a.hasPopupOpen=!1,a.onControlFocusout(t)}function $t(){M=q.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||U.value===!1:!0),le=q.platform.is.ios===!0&&M===!0&&e.useInput===!0?"fade":e.transitionShow}return bl($t),wl(Dt),$t(),mt(()=>{V!==null&&clearTimeout(V),x!==null&&clearTimeout(x)}),Object.assign(g,{showPopup:we,hidePopup:fe,removeAtIndex:et,add:St,toggleOption:ce,getOptionIndex:()=>o.value,setOptionIndex:pe,moveOptionSelection:Qe,filter:ye,updateMenuPosition:Dt,updateInputValue:Te,isOptionSelected:lt,getEmittingOptionValue:ht,isOptionDisabled:(...t)=>ge.value.apply(null,t)===!0,getOptionValue:(...t)=>te.value.apply(null,t),getOptionLabel:(...t)=>W.value.apply(null,t)}),Object.assign(a,{innerValue:r,fieldClass:S(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:Re,targetRef:F,hasValue:O,showPopup:we,floatingLabel:S(()=>e.hideSelected!==!0&&O.value===!0||typeof h.value=="number"||h.value.length!==0||At(e.displayValue)),getControlChild:()=>{if(a.editable.value!==!1&&(i.value===!0||U.value!==!0||l["no-option"]!==void 0))return M===!0?ll():Xt();a.hasPopupOpen===!0&&(a.hasPopupOpen=!1)},controlEvents:{onFocusin(t){a.onControlFocusin(t)},onFocusout(t){a.onControlFocusout(t,()=>{ke(),be()})},onClick(t){if(it(t),M!==!0&&s.value===!0){be(),F.value!==null&&F.value.focus();return}we(t)}},getControl:t=>{const u=Yt(),n=t===!0||i.value!==!0||M!==!0;if(e.useInput===!0)u.push(Wt(t,n));else if(a.editable.value===!0){const G=n===!0?Le.value:void 0;u.push(k("input",{ref:n===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:n===!0?a.targetUid.value:void 0,value:Y.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...G,onKeydown:wt,onKeyup:pt,onKeypress:bt})),n===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&u.push(k("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:yt}))}if(ue.value!==void 0&&e.disable!==!0&&He.value.length!==0){const G=He.value.map(A=>k("option",{value:A,selected:!0}));u.push(k("select",{class:"hidden",name:ue.value,multiple:e.multiple},G))}const v=e.useInput===!0||n!==!0?void 0:a.splitAttrs.attributes.value;return k("div",{class:"q-field__native row items-center",...v,...a.splitAttrs.listeners.value},u)},getInnerAppend:()=>e.loading!==!0&&f.value!==!0&&e.hideDropdownIcon!==!0?[k(We,{class:"q-select__dropdown-icon"+(s.value===!0?" rotate-180":""),name:Ge.value})]:null}),Lt(a)}});const Jl=ql({name:"IndexPage",data(){return{changeAlertTimeDialog:!1,coinsStorageKey:"coins",enableNotificationsBeta:!1,days:[{label:"Sunday",value:0},{label:"Monday",value:1},{label:"Tuesday",value:2},{label:"Wednesday",value:3},{label:"Thursday",value:4},{label:"Friday",value:5},{label:"Saturday",value:6}]}},beforeMount(){this.goalsStore=Fl(),this.goalsStore.initialize(),this.successesStore=Ol(),this.successesStore.initialize(),this.settingsStore=Rt(),this.settingsStore.initialize(),this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()),this.$emit("refresh-header")},created(){this.showLoading()},setup(){const e=Bl();let l;return mt(()=>{l!==void 0&&(clearTimeout(l),e.loading.hide())}),{showLoading(){e.loading.show({spinner:Rl,spinnerColor:"white",spinnerSize:140,backgroundColor:"black",message:"Loading your goals... Please wait!",messageColor:"white"}),l=setTimeout(()=>{e.loading.hide(),l=void 0},500)}}},computed:{...$l(Rt,["useBigButtons","goalsSortStyle"]),buttonClass(){return this.useBigButtons?"bigBtn":""},sortStyle(){return this.goalsSortStyle},buttonText(){return`Sort: ${this.sortStyle}`}},methods:{getDenseDisplayButtonText(){return this.settingsStore.useDenseMode?"Dense Mode Active":"Dense Mode Disabled"},viewUnscheduledGoals(){this.$router.push("unscheduledGoals")},unscheduleGoal(e){this.$q.notify("Goal unscheduled!"),e.changeDateDialog=!1,e.date=this.getDate(),this.goalsStore.addUnscheduledGoal(e),this.goalsStore.removeGoal(e),this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()),this.goalsStore.sortUnscheduledGoals(this.settingsStore.getGoalsSortStyle())},saveGoals(){this.$q.notify("Goals saved!"),this.goalsStore.saveGoals()},completeGoal(e){if(!e.ready){e.ready=!0,this.$q.notify("Click again to mark complete!");return}if(e.goal.length<1){this.$q.notify("Enter a title first!");return}if(e.stepsEnabled){for(var l=!0,d=0;d<e.stepsSize;d++)e.steps[d].value||(l=!1);if(!l){this.$q.notify("Complete all steps first!");return}}this.$q.dialog({title:"Confirm",message:'Confirm completion of goal: "'+e.goal+'"',cancel:!0,persistent:!0}).onOk(()=>{var g=this.goalsStore.goalReward(e);this.$q.notify("Rewarded "+g+" coins for completion!"),this.settingsStore.coins=this.settingsStore.coins+g,this.settingsStore.totalCoins=this.settingsStore.totalCoins+g;var q=Object.assign({},e);if(q.alertTime=null,q.date=this.getDateWithTime(),q.dateTieBreaker=this.getTime(),q.type="goal",this.successesStore.addEntry(q),this.$q.notify('Goal complete! "'+q.goal+'"'),this.settingsStore.saveCoins(),Array.isArray(e.repeatDays)&&e.repeatDays.length>0){var s=Object.assign({},e);if(s.date=this.goalsStore.nextDate(e),s.nextDate=this.goalsStore.nextDate(s),s.stepsEnabled)for(var i=0;i<s.stepsSize;i++)s.steps[i].value=!1;this.goalsStore.addGoal(s,this.settingsStore.getGoalsSortStyle()),this.$q.notify("Repeat goal "+s.goal+" set for "+s.date)}this.goalsStore.removeGoal(e),this.$emit("refresh-header")})},toggleSteps(e){e.steps?(e.stepsEnabled=!e.stepsEnabled,e.stepsEnabled&&e.stepsSize==0&&this.addSteps(e)):(e.stepsEnabled=!0,e.steps=[],e.stepsSize=0,this.addSteps(e)),this.saveGoals()},toggleGoalsSortStyle(){this.settingsStore.toggleGoalsSortStyle(),this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle())},findMatchingInput(){return new Promise(e=>{this.$nextTick(()=>{this.$nextTick(()=>{for(const l in this.$refs.stepDescRef){const d=this.$refs.stepDescRef[l];if(d.modelValue==this.selectedStep.label){e(d);return}}e(null)})})})},handleStepInput(e){if(e.key){if(e.key=="Enter")e.preventDefault(),e.stopPropagation(),this.addSteps(this.selectedGoal,this.selectedStepIndex+1),this.findMatchingInput().then(l=>{l&&(this.selectedStep.label="",l.focus(),this.saveGoals())}),this.saveGoals();else if(e.key=="End")e.preventDefault(),e.stopPropagation(),this.$q.dialog({title:"Confirm",message:"Confirm deletion of step.",cancel:!0,persistent:!0}).onOk(()=>{this.selectedGoal.steps.splice(this.selectedStepIndex,1),this.selectedGoal.stepsSize--,this.selectedGoal.stepsSize==0&&(this.selectedGoal.stepsEnabled=!1,this.selectedStep=null),this.saveGoals()});else if(e.key=="Backspace"&&this.selectedStep.label==""){if(e.preventDefault(),e.stopPropagation(),this.selectedGoal.stepsSize==0){this.selectedGoal.stepsEnabled=!1,this.selectedStep=null;return}this.selectedStepIndex+1<this.selectedGoal.steps.length&&(this.selectedStep=this.selectedGoal.steps[this.selectedStepIndex+1]),this.selectedGoal.steps.splice(this.selectedStepIndex,1),this.selectedGoal.stepsSize--,this.selectedStep=this.selectedGoal.steps[this.selectedStepIndex],this.selectedGoal.stepsSize==0&&(this.selectedGoal.stepsEnabled=!1,this.selectedStep=null),this.saveGoals()}}},addSteps(e,l){e.stepsSize<20&&(e.stepsSize++,l?(e.steps.splice(l,0,{label:"",value:!1}),this.selectedStep=e.steps[l],this.selectedStep.label="   "):(e.steps.push({label:"",value:!1}),this.selectedStep=e.steps[e.stepsSize-1]),this.saveGoals(),console.log(JSON.stringify(e)))},removeSteps(e){e.steps.splice(e.stepsSize-1,1),e.stepsSize--,e.stepsSize==0&&(e.stepsEnabled=!1,this.selectedStep=null),this.saveGoals()},removeGoal(e){var l='Are you sure you want to delete the goal: "'+e.goal+'"?';e.goal.length<1&&(l="Are you sure you want to delete the unnamed goal?"),this.$q.dialog({title:"Confirm",message:l,cancel:!0,persistent:!0}).onOk(()=>{this.$q.notify('Goal deleted: "'+e.goal+'"'),this.goalsStore.removeGoal(e)})},hideTutorial(){this.$q.dialog({title:"Acknowledge",message:"Have you read and understood the instructions?",cancel:!0,persistent:!0}).onOk(()=>{this.settingsStore.tutorialSettings.goalsTutorialHidden=!0,this.settingsStore.saveTutorialSettings()})},toggleDenseDisplay(){this.settingsStore.useDenseMode||(this.settingsStore.useDenseMode=!1),this.settingsStore.useDenseMode=!this.settingsStore.useDenseMode,this.settingsStore.saveDenseModeSetting()},getDate(){const e=Date().toString();return nt.formatDate(e,"MMM D, YYYY")},getDateWithTime(){const e=Date().toString();return nt.formatDate(e,"MMM D, YYYY, hh:mm A")},getTime(){return new Date().getTime()},displayAlertTime(e){const l=new Date;return l.setHours(parseInt(e.split(":")[0],10)),l.setMinutes(parseInt(e.split(":")[1],10)),l.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0})},openDatePicker(e){e.changeDateDialog=!0},closeDatePicker(e){e.date=nt.formatDate(e.date,"MMM D, YYYY"),e.changeDateDialog=!1,this.$q.notify("Goals saved!"),this.settingsStore.getGoalsSortStyle()=="Date"&&this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle())},closeAlertTimeDialog(e){e.changeAlertTimeDialog=!1,this.saveGoals()}}}),Zl={class:"q-gutter-md row justify-center"},eo={class:"q-gutter-md row justify-center",style:{"margin-top":"-2em","margin-bottom":"-1em"}},to={key:0,class:"tutorial"},lo=D("p",null,' Click "New Goal" to create a new goal as part of the schedule. You can click "Unscheduled" to create goals without a desired end date. Clicking the sort button will toggle between sorting by date (soonest to complete first), or difficulty from easy to epic or epic to easy (depending on the direction of the arrow). ',-1),oo={class:"goal-data"},ao={class:"text-h6"},io={class:"difficulty-select"},no={key:0},so=D("br",null,null,-1),uo={class:"steps_checkboxes full-width"},ro={class:"stepTable full-width"},co={scope:"row",class:"firstColumn"},fo={class:"text-black",style:{margin:"0"}},vo=D("br",null,null,-1),mo={key:1},ho={class:"text-black",style:{margin:"0"}},So=D("br",null,null,-1),go={key:0},po=D("br",null,null,-1),yo={class:"row items-center justify-end"},bo={key:2,class:"alert-data"},wo={key:0,"q-pa-lg":"",class:"text-black"},ko=D("br",null,null,-1),Vo={class:"row items-center justify-center"},Co={key:0},Do={key:1},xo={key:2,class:"alert-data"},qo={key:3},$o={class:"goal-data"},Ao={class:"text-h6"},Go={class:"difficulty-select"},_o={key:0},To={class:"steps_checkboxes full-width"},zo={class:"stepTable full-width"},Mo={scope:"row",class:"firstColumn"},Io={key:0},Eo={key:1},Bo={key:2,class:"alert-data"},Ro={key:3};function Fo(e,l,d,g,q,s){return _(),Me(El,{"items-center":"",class:"goal-page"},{default:z(()=>[D("div",Zl,[c(zt,{"no-wrap":""},{default:z(()=>[c(E,{class:Q([e.buttonClass,"top-button"]),onClick:l[0]||(l[0]=i=>this.goalsStore.addGoal(null,this.settingsStore.getGoalsSortStyle())),style:{"margin-left":"0.5rem"}},{default:z(()=>[X("New Goal")]),_:1},8,["class"]),c(E,{class:Q([e.buttonClass,"top-button"]),onClick:l[1]||(l[1]=i=>this.toggleGoalsSortStyle()),style:{"margin-left":"1rem","margin-right":"0.5rem"}},{default:z(()=>[X(ve(e.buttonText),1)]),_:1},8,["class"]),c(E,{class:Q([e.buttonClass,"top-button"]),onClick:l[2]||(l[2]=i=>this.viewUnscheduledGoals()),style:{"margin-left":"0.5rem","margin-right":"0.5rem"}},{default:z(()=>[X("Unscheduled")]),_:1},8,["class"])]),_:1})]),D("div",eo,[c(zt,{"no-wrap":""},{default:z(()=>[c(E,{class:Q([e.buttonClass,"top-button"]),onClick:l[3]||(l[3]=i=>this.toggleDenseDisplay())},{default:z(()=>[X(ve(this.getDenseDisplayButtonText()),1)]),_:1},8,["class"])]),_:1})]),this.settingsStore.tutorialSettings.goalsTutorialHidden?Ie("",!0):(_(),B("div",to,[lo,c(E,{flat:"",dense:"",glossy:"",icon:"done",color:"check",onClick:l[4]||(l[4]=i=>this.hideTutorial())})])),this.settingsStore.useDenseMode?(_(),Me(It,{key:2},{default:z(()=>[(_(!0),B(je,null,Ke(this.goalsStore.goals,i=>Ye((_(),Me(dt,{key:i},{default:z(()=>[c(Gt,{class:"goal-card text-white full-width"},{default:z(()=>[D("div",$o,[D("div",Ao,[c(Ee,{multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,standout:"bg-primary text-black",class:"full-width text-h6","input-class":"text-left",label:"Goal Title",modelValue:i.goal,"onUpdate:modelValue":[o=>i.goal=o,l[15]||(l[15]=o=>this.goalsStore.saveGoals())],onFocus:l[16]||(l[16]=o=>this.$q.notify("Goal will be saved once you enter a title"))},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Go,[c(ie,{"keep-color":"",modelValue:i.difficulty,"onUpdate:modelValue":[o=>i.difficulty=o,l[17]||(l[17]=o=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Easy",label:"Easy",color:"green"},null,8,["modelValue","onUpdate:modelValue"]),c(ie,{"keep-color":"",modelValue:i.difficulty,"onUpdate:modelValue":[o=>i.difficulty=o,l[18]||(l[18]=o=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Moderate",label:"Moderate",color:"orange"},null,8,["modelValue","onUpdate:modelValue"]),c(ie,{"keep-color":"",modelValue:i.difficulty,"onUpdate:modelValue":[o=>i.difficulty=o,l[19]||(l[19]=o=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Hard",label:"Hard",color:"red"},null,8,["modelValue","onUpdate:modelValue"]),c(ie,{"keep-color":"",modelValue:i.difficulty,"onUpdate:modelValue":[o=>i.difficulty=o,l[20]||(l[20]=o=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Epic",label:"Epic",color:"black"},null,8,["modelValue","onUpdate:modelValue"])]),i.stepsEnabled?(_(),B("div",_o,[D("div",To,[D("table",zo,[D("thead",null,[(_(!0),B(je,null,Ke(i.steps,(o,h)=>(_(),B("tr",{key:h},[D("th",Mo,[c(_t,{modelValue:o.value,"onUpdate:modelValue":[b=>o.value=b,l[21]||(l[21]=b=>this.saveGoals())]},null,8,["modelValue","onUpdate:modelValue"])]),D("th",null,[c(Ee,{ref_for:!0,ref:"stepDescRef",multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,standout:"bg-primary text-black",class:"full-width","input-class":"text-left",label:"Step Description",modelValue:o.label,"onUpdate:modelValue":[b=>o.label=b,l[22]||(l[22]=b=>this.goalsStore.saveGoals())],onKeydown:e.handleStepInput,onFocus:b=>{this.selectedGoal=i,this.selectedStep=o,this.selectedStepIndex=h}},null,8,["modelValue","onUpdate:modelValue","onKeydown","onFocus"])])]))),128))])])])])):Ie("",!0)]),c(Tt,null,{default:z(()=>[i.ready?(_(),B("div",Io,[c(E,{class:Q(e.buttonClass),flat:"",glossy:"",icon:"done_all",color:"green",onClick:o=>e.completeGoal(i)},null,8,["class","onClick"])])):(_(),B("div",Eo,[c(E,{class:Q(e.buttonClass),flat:"",glossy:"",icon:"check",color:"green",onClick:o=>e.completeGoal(i)},null,8,["class","onClick"])])),c(E,{class:Q(e.buttonClass),flat:"",glossy:"",icon:"123",color:"yellow",onClick:o=>e.toggleSteps(i),style:{"margin-left":"0"}},null,8,["class","onClick"]),this.settingsStore.useNotificationBeta?(_(),B("div",Bo,[c(E,{class:Q(e.buttonClass),flat:"",glossy:"",icon:"notifications",color:"red",onClick:o=>i.changeAlertTimeDialog=!0},null,8,["class","onClick"])])):(_(),B("div",Ro)),c(E,{class:Q(e.buttonClass),style:{padding:"0"},flat:"",glossy:"",icon:"delete",color:"black",onClick:o=>e.removeGoal(i)},null,8,["class","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ut]])),128))]),_:1})):(_(),Me(It,{key:1},{default:z(()=>[(_(!0),B(je,null,Ke(this.goalsStore.goals,i=>Ye((_(),Me(dt,{key:i},{default:z(()=>[c(Gt,{class:"goal-card text-white full-width"},{default:z(()=>[c(Al,null,{default:z(()=>[D("div",oo,[D("div",ao,[c(Ee,{multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,standout:"bg-primary text-black",class:"full-width text-h6","input-class":"text-left",label:"Goal Title",modelValue:i.goal,"onUpdate:modelValue":[o=>i.goal=o,l[5]||(l[5]=o=>this.goalsStore.saveGoals())],onFocus:l[6]||(l[6]=o=>this.$q.notify("Goal will be saved once you enter a title"))},null,8,["modelValue","onUpdate:modelValue"])]),D("div",io,[c(ie,{"keep-color":"",modelValue:i.difficulty,"onUpdate:modelValue":[o=>i.difficulty=o,l[7]||(l[7]=o=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Easy",label:"Easy",color:"green"},null,8,["modelValue","onUpdate:modelValue"]),c(ie,{"keep-color":"",modelValue:i.difficulty,"onUpdate:modelValue":[o=>i.difficulty=o,l[8]||(l[8]=o=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Moderate",label:"Moderate",color:"orange"},null,8,["modelValue","onUpdate:modelValue"]),c(ie,{"keep-color":"",modelValue:i.difficulty,"onUpdate:modelValue":[o=>i.difficulty=o,l[9]||(l[9]=o=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Hard",label:"Hard",color:"red"},null,8,["modelValue","onUpdate:modelValue"]),c(ie,{"keep-color":"",modelValue:i.difficulty,"onUpdate:modelValue":[o=>i.difficulty=o,l[10]||(l[10]=o=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Epic",label:"Epic",color:"black"},null,8,["modelValue","onUpdate:modelValue"])]),i.stepsEnabled?(_(),B("div",no,[D("p",null,[X(" Base Reward: "+ve(this.goalsStore.baseReward(i))+" coins.",1),so]),D("div",uo,[D("table",ro,[D("thead",null,[(_(!0),B(je,null,Ke(i.steps,(o,h)=>(_(),B("tr",{key:h},[D("th",co,[c(_t,{modelValue:o.value,"onUpdate:modelValue":[b=>o.value=b,l[11]||(l[11]=b=>this.saveGoals())]},null,8,["modelValue","onUpdate:modelValue"])]),D("th",null,[c(Ee,{ref_for:!0,ref:"stepDescRef",multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,standout:"bg-primary text-black",class:"full-width","input-class":"text-left",label:"Step Description",modelValue:o.label,"onUpdate:modelValue":[b=>o.label=b,l[12]||(l[12]=b=>this.goalsStore.saveGoals())],onKeydown:e.handleStepInput,onFocus:b=>{this.selectedGoal=i,this.selectedStep=o,this.selectedStepIndex=h}},null,8,["modelValue","onUpdate:modelValue","onKeydown","onFocus"])])]))),128))])]),c(E,{flat:"",dense:"",glossy:"",icon:"add",color:"green",onClick:o=>e.addSteps(i)},null,8,["onClick"]),c(E,{flat:"",dense:"",glossy:"",icon:"remove",color:"red",onClick:o=>e.removeSteps(i)},null,8,["onClick"])]),D("p",fo,[X(" Reward for completion: "),c(Mt,{"show-value":"",class:"text-light-blue q-ma-md",value:this.goalsStore.goalReward(i)/1e3*100,size:"64px",color:"light-blue"},{default:z(()=>[X(ve(this.goalsStore.goalReward(i)),1),vo,X(" coins ")]),_:2},1032,["value"])])])):(_(),B("div",mo,[D("p",ho,[X(" Reward for completion: "),c(Mt,{"show-value":"",class:"text-light-blue q-ma-md",value:this.goalsStore.goalReward(i)/1e3*100,size:"64px",color:"light-blue"},{default:z(()=>[X(ve(this.goalsStore.goalReward(i)),1),So,X(" coins ")]),_:2},1032,["value"])])])),D("div",{class:Q(["text-goal",{overdue:this.goalsStore.goalExpired(i)}])},[c(Xl,{modelValue:i.repeatDays,"onUpdate:modelValue":[o=>i.repeatDays=o,l[13]||(l[13]=o=>this.saveGoals())],multiple:"","multiple-sort":"",options:e.days,label:"Repeats on these days","display-value":this.goalsStore.displayRepeatDays(i.repeatDays)},null,8,["modelValue","onUpdate:modelValue","options","display-value"]),i.repeatDays&&i.repeatDays.length>0?(_(),B("div",go,[po,D("p",null," Will occur again on "+ve(this.goalsStore.nextDate(i)),1)])):Ie("",!0),c(Ee,{"no-outline":"",style:{"padding-right":"1e","min-width":"35%"},"input-class":"text-left text-bold",label:"Complete By",modelValue:i.date,"onUpdate:modelValue":o=>i.date=o,onClick:o=>e.openDatePicker(i)},{default:z(()=>[c(rt,{modelValue:i.changeDateDialog,"onUpdate:modelValue":o=>i.changeDateDialog=o},{default:z(()=>[c(Ml,{modelValue:i.date,"onUpdate:modelValue":[o=>i.date=o,o=>e.closeDatePicker(i)]},{default:z(()=>[D("div",yo,[Ye(c(E,{onClick:o=>e.unscheduleGoal(i),label:"Unschedule",color:"primary",flat:""},null,8,["onClick"]),[[Bt]]),Ye(c(E,{onClick:o=>e.closeDatePicker(i),label:"Close",color:"primary",flat:""},null,8,["onClick"]),[[Bt]])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onClick"])],2),this.settingsStore.useNotificationBeta?(_(),B("div",bo,[i.alertTime?(_(),B("p",wo,[ko,X("Alert Time: "+ve(e.displayAlertTime(i.alertTime))+" day of goal. ",1)])):Ie("",!0),c(rt,{modelValue:i.changeAlertTimeDialog,"onUpdate:modelValue":o=>i.changeAlertTimeDialog=o},{default:z(()=>[c(Il,{modelValue:i.alertTime,"onUpdate:modelValue":[o=>i.alertTime=o,l[14]||(l[14]=o=>this.saveGoals())],onClose:o=>e.closeAlertTimeDialog(i)},{default:z(()=>[D("div",Vo,[c(E,{"float-left":"",label:"Disable",onClick:o=>this.goalsStore.disableNotification(i),color:"primary",flat:""},null,8,["onClick"]),c(E,{label:"Close",color:"primary",onClick:o=>e.closeAlertTimeDialog(i),flat:""},null,8,["onClick"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onClose"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])):Ie("",!0)])]),_:2},1024),c(Gl,{dark:""}),c(Tt,null,{default:z(()=>[i.ready?(_(),B("div",Co,[c(E,{class:Q(e.buttonClass),flat:"",glossy:"",icon:"done_all",color:"green",onClick:o=>e.completeGoal(i)},null,8,["class","onClick"])])):(_(),B("div",Do,[c(E,{class:Q(e.buttonClass),flat:"",glossy:"",icon:"check",color:"green",onClick:o=>e.completeGoal(i)},null,8,["class","onClick"])])),c(E,{class:Q(e.buttonClass),flat:"",glossy:"",icon:"123",color:"yellow",onClick:o=>e.toggleSteps(i),style:{"margin-left":"0"}},null,8,["class","onClick"]),this.settingsStore.useNotificationBeta?(_(),B("div",xo,[c(E,{class:Q(e.buttonClass),flat:"",glossy:"",icon:"notifications",color:"red",onClick:o=>i.changeAlertTimeDialog=!0},null,8,["class","onClick"])])):(_(),B("div",qo)),c(E,{class:Q(e.buttonClass),flat:"",glossy:"",icon:"delete",color:"black",onClick:o=>e.removeGoal(i)},null,8,["class","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[ut]])),128))]),_:1}))]),_:1})}var oa=xl(Jl,[["render",Fo]]);export{oa as default};
