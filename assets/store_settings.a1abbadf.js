import{a0 as B}from"./index.72e2c796.js";const u="accepted_terms_date",m="accepted_terms_version",f="coins",I="coins_total",a="useNotificationBeta",o="useBigButtons",i="useStepMgmtButtons",r="useDenseModeGoals",l="useDenseModeHabits",n="useDateFormatKey",p="goalsSortStyle",c="exportAIInstructions",g="exportNotes",S="exportSuccesses",h="tutorial_settings",D=3,M=B("settings",{state:()=>({acceptedTermsDate:"",acceptedTermsVersion:0,coins:0,totalCoins:0,useNotificationBeta:!1,useBigButtons:!1,useStepMgmtButtons:!1,useDenseModeGoals:!0,useDenseModeHabits:!0,useDateFormat:"MMM D, YYYY",goalsSortStyle:"Date",exportAIInstructions:!0,exportNotes:!1,exportSuccesses:!1,tutorialSettings:{}}),actions:{initialize(){this.acceptedTermsDate=this.getAcceptedTermsDate(),this.acceptedTermsVersion=this.getAcceptedTermsVersion(),this.coins=this.getCoins(),this.totalCoins=this.getTotalCoins(),this.useNotificationBeta=this.getNotificationBeta(),this.useNotificationBeta=!1,this.useBigButtons=this.getBigButtons(),this.useStepMgmtButtons=this.getStepMgmtButtons(),this.useDenseModeGoals=this.getDenseModeGoals(),this.useDenseModeHabits=this.getDenseModeHabits(),this.useDateFormat=this.getDateFormat(),this.goalsSortStyle=this.getGoalsSortStyle(),this.exportAIInstructions=this.getExportAIInstructions(),this.exportNotes=this.getExportNotes(),this.exportSuccesses=this.getExportSuccesses(),this.tutorialSettings=this.getTutorialSettings()},termsUpToDate(){return this.acceptedTermsVersion==D},getTermsVersion(){return D},getAcceptedTermsDate(){const t=localStorage.getItem(u);return t||""},getAcceptedTermsVersion(){const t=localStorage.getItem(m);return t?Number(t):0},getCoins(){const t=localStorage.getItem(f);if(t){let e=0;try{e=JSON.parse(t)}catch(s){return console.error(s)}this.coins=e}else this.coins=0;return this.coins},getTotalCoins(){const t=localStorage.getItem(I);if(t){var e=0;try{e=JSON.parse(t)}catch(s){return console.error(s)}this.totalCoins=e}else this.totalCoins=0;return this.totalCoins},getTutorialSettings(){const t=localStorage.getItem(h);if(t){var e={};try{e=JSON.parse(t)}catch(s){return console.error(s)}this.tutorialSettings=e}else this.tutorialSettings={};return this.tutorialSettings},getDateFormat(){const t=localStorage.getItem(n);return t||"MMM D, YYYY"},getNotificationBeta(){return localStorage.getItem(a)=="1"},getBigButtons(){return localStorage.getItem(o)=="1"},getStepMgmtButtons(){return localStorage.getItem(i)=="1"},getDenseModeGoals(){return localStorage.getItem(r)=="1"},getDenseModeHabits(){return localStorage.getItem(l)=="1"},getGoalsSortStyle(){const t=localStorage.getItem(p);return t||"Date"},getExportAIInstructions(){return localStorage.getItem(c)=="1"},getExportNotes(){return localStorage.getItem(g)=="1"},getExportSuccesses(){return localStorage.getItem(S)=="1"},saveAcceptedTermsDate(){localStorage.setItem(u,this.acceptedTermsDate),localStorage.setItem("lastTimestamp",Date.now())},saveAcceptedTermsVersion(){localStorage.setItem(m,this.acceptedTermsVersion),localStorage.setItem("lastTimestamp",Date.now())},saveGoalsSortStyle(){localStorage.setItem(p,this.goalsSortStyle),localStorage.setItem("lastTimestamp",Date.now())},saveNotificationBetaSetting(){this.useNotificationBeta?localStorage.setItem(a,"1"):localStorage.setItem(a,"0"),localStorage.setItem("lastTimestamp",Date.now())},saveBigButtonsSetting(){this.useBigButtons?localStorage.setItem(o,"1"):localStorage.setItem(o,"0"),localStorage.setItem("lastTimestamp",Date.now())},saveStepMgmtButtons(){this.useStepMgmtButtons?localStorage.setItem(i,"1"):localStorage.setItem(i,"0"),localStorage.setItem("lastTimestamp",Date.now())},saveDenseModeGoalsSetting(){this.useDenseModeGoals?localStorage.setItem(r,"1"):localStorage.setItem(r,"0"),localStorage.setItem("lastTimestamp",Date.now())},saveDenseModeHabitsSetting(){this.useDenseModeHabits?localStorage.setItem(l,"1"):localStorage.setItem(l,"0"),localStorage.setItem("lastTimestamp",Date.now())},saveDateFormatSetting(){this.useDateFormat?localStorage.setItem(n,this.useDateFormat):localStorage.setItem(n,"MMM D, YYYY"),localStorage.setItem("lastTimestamp",Date.now())},saveExportAIInstructions(){this.exportAIInstructions?localStorage.setItem(c,"1"):localStorage.setItem(c,"0"),localStorage.setItem("lastTimestamp",Date.now())},saveExportNotes(){this.exportNotes?localStorage.setItem(g,"1"):localStorage.setItem(g,"0"),localStorage.setItem("lastTimestamp",Date.now())},saveExportSuccesses(){this.exportSuccesses?localStorage.setItem(S,"1"):localStorage.setItem(S,"0"),localStorage.setItem("lastTimestamp",Date.now())},saveTutorialSettings(){this.tutorialSettings&&localStorage.setItem(h,JSON.stringify(this.tutorialSettings)),localStorage.setItem("lastTimestamp",Date.now())},saveCoins(){localStorage.setItem(f,this.coins),localStorage.setItem(I,this.totalCoins),localStorage.setItem("lastTimestamp",Date.now())},resetCoins(){this.coins=0,this.saveCoins()},toggleGoalsSortStyle(){this.goalsSortStyle=="Date"?this.goalsSortStyle="Difficulty \u2197":this.goalsSortStyle=="Difficulty \u2197"?this.goalsSortStyle="Difficulty \u2198":this.goalsSortStyle="Date",localStorage.setItem(p,this.goalsSortStyle),localStorage.setItem("lastTimestamp",Date.now())},enableAccessibilityFeatures(){console.log("user enabled accessibility features"),this.useBigButtons=!0,localStorage.setItem(o,"1")},eraseSettings(){this.resetCoins(),localStorage.setItem(u,""),localStorage.setItem(m,"0"),localStorage.setItem(I,"0"),localStorage.setItem(a,"0"),localStorage.setItem(o,"0"),localStorage.setItem(r,"0"),localStorage.setItem(l,"0"),localStorage.setItem(i,"0"),localStorage.setItem(c,"1"),localStorage.setItem(g,"0"),localStorage.setItem(S,"0"),localStorage.setItem(h,JSON.stringify({})),localStorage.setItem(n,"MMM D, YYYY"),this.acceptedTermsDate="",this.acceptedTermsVersion=0,this.totalCoins=0,this.useBigButtons=!1,this.useNotificationBeta=!1,this.useDenseModeGoals=!1,this.useDenseModeHabits=!1,this.useStepMgmtButtons=!1,this.exportAIInstructions=!0,this.exportNotesKey=!1,this.exportSuccesses=!1,this.tutorialSettings={},this.useDateFormat="MMM D, YYYY",localStorage.setItem("lastTimestamp",Date.now())}}});export{M as u};
