import{c as nt,aw as ut,ax as It,ay as Mt,az as $t,p as tl,aA as ll,s as ol,aB as al,a as m,z as il,g as st,h as b,Q as Ue,aC as nl,aq as Gt,a4 as ce,n as ul,r as O,w as we,e as oe,aD as sl,aE as rl,aF as cl,aG as dl,d as Bt,ar as fl,aH as vl,aI as Ct,aJ as Te,aK as ml,aL as Sl,D as Ze,aM as hl,ae as ye,a3 as gl,aN as pl,an as it,L as yl,_ as bl,M as Vl,ai as wl,N as K,O as kt,P,Y as E,R as C,X as j,T as be,U as Ve,W as Z,Z as xt,$ as Dt,y as et,aj as Cl,al as kl,am as tt,aO as He,aP as xl,ak as Ie,S as lt,ao as Dl,ap as Al}from"./index.35d7379d.js";import{Q as ql}from"./QBtnGroup.7c4ef05d.js";import{Q as Et,a as zl}from"./QItem.09cf2ff1.js";import{Q as _l}from"./QItemSection.34d12253.js";import{Q as Tl}from"./QItemLabel.9084c296.js";import{Q as Il}from"./QMenu.31b4037c.js";import{n as At,d as ot}from"./date.74dc9d21.js";import{Q as Ml,C as qt}from"./ClosePopup.d4af16d4.js";import{Q as $l}from"./QTime.8ec74a41.js";import{Q as Gl}from"./QPage.10ff0e25.js";import{u as Bl}from"./store_goals.b7b905d5.js";import{u as El}from"./store_successes.132c5e6b.js";import{u as zt}from"./store_settings.a07e10ce.js";import"./selection.6a3cb1e5.js";import"./TouchPan.26b59d2b.js";var Ol=nt({name:"QField",inheritAttrs:!1,props:{...ut,tag:{type:String,default:"label"}},emits:It,setup(){return Mt($t({requiredForAttr:!1,tagProp:!0}))}});const Rl={xs:8,sm:10,md:14,lg:20,xl:24};var Fl=nt({name:"QChip",props:{...tl,...ll,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:o,emit:c}){const{proxy:{$q:S}}=st(),x=ol(e,S),u=al(e,Rl),i=m(()=>e.selected===!0||e.icon!==void 0),a=m(()=>e.selected===!0?e.iconSelected||S.iconSet.chip.selected:e.icon),h=m(()=>e.iconRemove||S.iconSet.chip.remove),D=m(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=m(()=>{const v=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(v?` text-${v} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(D.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(x.value===!0?" q-chip--dark q-dark":"")}),V=m(()=>{const v=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},H={...v,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||S.lang.label.remove};return{chip:v,remove:H}});function k(v){v.keyCode===13&&A(v)}function A(v){e.disable||(c("update:selected",!e.selected),c("click",v))}function T(v){(v.keyCode===void 0||v.keyCode===13)&&(ce(v),e.disable===!1&&(c("update:modelValue",!1),c("remove")))}function L(){const v=[];D.value===!0&&v.push(b("div",{class:"q-focus-helper"})),i.value===!0&&v.push(b(Ue,{class:"q-chip__icon q-chip__icon--left",name:a.value}));const H=e.label!==void 0?[b("div",{class:"ellipsis"},[e.label])]:void 0;return v.push(b("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},nl(o.default,H))),e.iconRight&&v.push(b(Ue,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&v.push(b(Ue,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...V.value.remove,onClick:T,onKeyup:T})),v}return()=>{if(e.modelValue===!1)return;const v={class:d.value,style:u.value};return D.value===!0&&Object.assign(v,V.value.chip,{onClick:A,onKeyup:k}),il("div",v,L(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Gt,e.ripple]])}}});let Ne=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const o=document.createElement("div");Object.assign(o.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(o),e.scrollLeft=-1e3,Ne=e.scrollLeft>=0,e.remove()}const Y=1e3,Pl=["start","center","end","start-force","center-force","end-force"],Ot=Array.prototype.filter,Ll=window.getComputedStyle(document.body).overflowAnchor===void 0?ul:function(e,o){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const c=e.children||[];Ot.call(c,x=>x.dataset&&x.dataset.qVsAnchor!==void 0).forEach(x=>{delete x.dataset.qVsAnchor});const S=c[o];S&&S.dataset&&(S.dataset.qVsAnchor="")}))};function Ce(e,o){return e+o}function at(e,o,c,S,x,u,i,a){const h=e===window?document.scrollingElement||document.documentElement:e,D=x===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-i-a,scrollMaxSize:0,offsetStart:-i,offsetEnd:-a};if(x===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=h.scrollLeft,d.scrollViewSize+=h.clientWidth),d.scrollMaxSize=h.scrollWidth,u===!0&&(d.scrollStart=(Ne===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=h.scrollTop,d.scrollViewSize+=h.clientHeight),d.scrollMaxSize=h.scrollHeight),c!==null)for(let V=c.previousElementSibling;V!==null;V=V.previousElementSibling)V.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=V[D]);if(S!==null)for(let V=S.nextElementSibling;V!==null;V=V.nextElementSibling)V.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=V[D]);if(o!==e){const V=h.getBoundingClientRect(),k=o.getBoundingClientRect();x===!0?(d.offsetStart+=k.left-V.left,d.offsetEnd-=k.width):(d.offsetStart+=k.top-V.top,d.offsetEnd-=k.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function _t(e,o,c,S){o==="end"&&(o=(e===window?document.body:e)[c===!0?"scrollWidth":"scrollHeight"]),e===window?c===!0?(S===!0&&(o=(Ne===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):c===!0?(S===!0&&(o=(Ne===!0?e.scrollWidth-e.offsetWidth:0)-o),e.scrollLeft=o):e.scrollTop=o}function Me(e,o,c,S){if(c>=S)return 0;const x=o.length,u=Math.floor(c/Y),i=Math.floor((S-1)/Y)+1;let a=e.slice(u,i).reduce(Ce,0);return c%Y!==0&&(a-=o.slice(u*Y,c).reduce(Ce,0)),S%Y!==0&&S!==x&&(a-=o.slice(S,i*Y).reduce(Ce,0)),a}const Hl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Ul={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Hl};function Nl({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:c,virtualScrollItemSizeComputed:S}){const x=st(),{props:u,emit:i,proxy:a}=x,{$q:h}=a;let D,d,V,k=[],A;const T=O(0),L=O(0),v=O({}),H=O(null),ee=O(null),F=O(null),M=O({from:0,to:0}),$e=m(()=>u.tableColspan!==void 0?u.tableColspan:100);S===void 0&&(S=m(()=>u.virtualScrollItemSize));const $=m(()=>S.value+";"+u.virtualScrollHorizontal),te=m(()=>$.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);we(te,()=>{W()}),we($,ae);function ae(){de(d,!0)}function ke(l){de(l===void 0?d:l)}function ie(l,r){const g=o();if(g==null||g.nodeType===8)return;const _=at(g,c(),H.value,ee.value,u.virtualScrollHorizontal,h.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);V!==_.scrollViewSize&&W(_.scrollViewSize),U(g,_,Math.min(e.value-1,Math.max(0,parseInt(l,10)||0)),0,Pl.indexOf(r)!==-1?r:d!==-1&&l>d?"end":"start")}function Ge(){const l=o();if(l==null||l.nodeType===8)return;const r=at(l,c(),H.value,ee.value,u.virtualScrollHorizontal,h.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),g=e.value-1,_=r.scrollMaxSize-r.offsetStart-r.offsetEnd-L.value;if(D===r.scrollStart)return;if(r.scrollMaxSize<=0){U(l,r,0,0);return}V!==r.scrollViewSize&&W(r.scrollViewSize),xe(M.value.from);const G=Math.floor(r.scrollMaxSize-Math.max(r.scrollViewSize,r.offsetEnd)-Math.min(A[g],r.scrollViewSize/2));if(G>0&&Math.ceil(r.scrollStart)>=G){U(l,r,g,r.scrollMaxSize-r.offsetEnd-k.reduce(Ce,0));return}let w=0,y=r.scrollStart-r.offsetStart,B=y;if(y<=_&&y+r.scrollViewSize>=T.value)y-=T.value,w=M.value.from,B=y;else for(let p=0;y>=k[p]&&w<g;p++)y-=k[p],w+=Y;for(;y>0&&w<g;)y-=A[w],y>-r.scrollViewSize?(w++,B=y):B=A[w]+y;U(l,r,w,B)}function U(l,r,g,_,G){const w=typeof G=="string"&&G.indexOf("-force")!==-1,y=w===!0?G.replace("-force",""):G,B=y!==void 0?y:"start";let p=Math.max(0,g-v.value[B]),N=p+v.value.total;N>e.value&&(N=e.value,p=Math.max(0,N-v.value.total)),D=r.scrollStart;const le=p!==M.value.from||N!==M.value.to;if(le===!1&&y===void 0){De(g);return}const{activeElement:Ee}=document,X=F.value;le===!0&&X!==null&&X!==Ee&&X.contains(Ee)===!0&&(X.addEventListener("focusout",Be),setTimeout(()=>{X!==null&&X.removeEventListener("focusout",Be)})),Ll(X,g-p);const Oe=y!==void 0?A.slice(p,g).reduce(Ce,0):0;if(le===!0){const ne=N>=M.value.from&&p<=M.value.to?M.value.to:N;M.value={from:p,to:ne},T.value=Me(k,A,0,p),L.value=Me(k,A,N,e.value),requestAnimationFrame(()=>{M.value.to!==N&&D===r.scrollStart&&(M.value={from:M.value.from,to:N},L.value=Me(k,A,N,e.value))})}requestAnimationFrame(()=>{if(D!==r.scrollStart)return;le===!0&&xe(p);const ne=A.slice(p,g).reduce(Ce,0),ue=ne+r.offsetStart+T.value,Re=ue+A[g];let qe=ue+_;if(y!==void 0){const je=ne-Oe,ze=r.scrollStart+je;qe=w!==!0&&ze<ue&&Re<ze+r.scrollViewSize?ze:y==="end"?Re-r.scrollViewSize:ue-(y==="start"?0:Math.round((r.scrollViewSize-A[g])/2))}D=qe,_t(l,qe,u.virtualScrollHorizontal,h.lang.rtl),De(g)})}function xe(l){const r=F.value;if(r){const g=Ot.call(r.children,p=>p.classList&&p.classList.contains("q-virtual-scroll--skip")===!1),_=g.length,G=u.virtualScrollHorizontal===!0?p=>p.getBoundingClientRect().width:p=>p.offsetHeight;let w=l,y,B;for(let p=0;p<_;){for(y=G(g[p]),p++;p<_&&g[p].classList.contains("q-virtual-scroll--with-prev")===!0;)y+=G(g[p]),p++;B=y-A[w],B!==0&&(A[w]+=B,k[Math.floor(w/Y)]+=B),w++}}}function Be(){F.value!==null&&F.value!==void 0&&F.value.focus()}function de(l,r){const g=1*S.value;(r===!0||Array.isArray(A)===!1)&&(A=[]);const _=A.length;A.length=e.value;for(let w=e.value-1;w>=_;w--)A[w]=g;const G=Math.floor((e.value-1)/Y);k=[];for(let w=0;w<=G;w++){let y=0;const B=Math.min((w+1)*Y,e.value);for(let p=w*Y;p<B;p++)y+=A[p];k.push(y)}d=-1,D=void 0,T.value=Me(k,A,0,M.value.from),L.value=Me(k,A,M.value.to,e.value),l>=0?(xe(M.value.from),oe(()=>{ie(l)})):fe()}function W(l){if(l===void 0&&typeof window!="undefined"){const y=o();y!=null&&y.nodeType!==8&&(l=at(y,c(),H.value,ee.value,u.virtualScrollHorizontal,h.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}V=l;const r=parseFloat(u.virtualScrollSliceRatioBefore)||0,g=parseFloat(u.virtualScrollSliceRatioAfter)||0,_=1+r+g,G=l===void 0||l<=0?1:Math.ceil(l/S.value),w=Math.max(1,G,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/_));v.value={total:Math.ceil(w*_),start:Math.ceil(w*r),center:Math.ceil(w*(.5+r)),end:Math.ceil(w*(1+r)),view:G}}function Qe(l,r){const g=u.virtualScrollHorizontal===!0?"width":"height",_={["--q-virtual-scroll-item-"+g]:S.value+"px"};return[l==="tbody"?b(l,{class:"q-virtual-scroll__padding",key:"before",ref:H},[b("tr",[b("td",{style:{[g]:`${T.value}px`,..._},colspan:$e.value})])]):b(l,{class:"q-virtual-scroll__padding",key:"before",ref:H,style:{[g]:`${T.value}px`,..._}}),b(l,{class:"q-virtual-scroll__content",key:"content",ref:F,tabindex:-1},r.flat()),l==="tbody"?b(l,{class:"q-virtual-scroll__padding",key:"after",ref:ee},[b("tr",[b("td",{style:{[g]:`${L.value}px`,..._},colspan:$e.value})])]):b(l,{class:"q-virtual-scroll__padding",key:"after",ref:ee,style:{[g]:`${L.value}px`,..._}})]}function De(l){d!==l&&(u.onVirtualScroll!==void 0&&i("virtualScroll",{index:l,from:M.value.from,to:M.value.to-1,direction:l<d?"decrease":"increase",ref:a}),d=l)}W();const fe=sl(Ge,h.platform.is.ios===!0?120:35);rl(()=>{W()});let Ae=!1;return cl(()=>{Ae=!0}),dl(()=>{if(Ae!==!0)return;const l=o();D!==void 0&&l!==void 0&&l!==null&&l.nodeType!==8?_t(l,D,u.virtualScrollHorizontal,h.lang.rtl):ie(d)}),Bt(()=>{fe.cancel()}),Object.assign(a,{scrollTo:ie,reset:ae,refresh:ke}),{virtualScrollSliceRange:M,virtualScrollSliceSizeComputed:v,setVirtualScrollSize:W,onVirtualScrollEvt:fe,localResetVirtualScroll:de,padVirtualScroll:Qe,scrollTo:ie,reset:ae,refresh:ke}}const Tt=e=>["add","add-unique","toggle"].includes(e),Ql=".*+?^${}()|[]\\",jl=Object.keys(ut);var Kl=nt({name:"QSelect",inheritAttrs:!1,props:{...Ul,...fl,...ut,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Tt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...It,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:o,emit:c}){const{proxy:S}=st(),{$q:x}=S,u=O(!1),i=O(!1),a=O(-1),h=O(""),D=O(!1),d=O(!1);let V=null,k=null,A,T,L,v=null,H,ee,F,M;const $e=O(null),$=O(null),te=O(null),ae=O(null),ke=O(null),ie=vl(e),Ge=hl(pt),U=m(()=>Array.isArray(e.options)?e.options.length:0),xe=m(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Be,virtualScrollSliceSizeComputed:de,localResetVirtualScroll:W,padVirtualScroll:Qe,onVirtualScrollEvt:De,scrollTo:fe,setVirtualScrollSize:Ae}=Nl({virtualScrollLength:U,getVirtualScrollTarget:Lt,getVirtualScrollEl:ht,virtualScrollItemSizeComputed:xe}),l=$t(),r=m(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,s=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const n=e.mapOptions===!0&&A!==void 0?A:[],f=s.map(z=>Pt(z,n));return e.modelValue===null&&t===!0?f.filter(z=>z!==null):f}return s}),g=m(()=>{const t={};return jl.forEach(s=>{const n=e[s];n!==void 0&&(t[s]=n)}),t}),_=m(()=>e.optionsDark===null?l.isDark.value:e.optionsDark),G=m(()=>Ct(r.value)),w=m(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||r.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),y=m(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),B=m(()=>U.value===0),p=m(()=>r.value.map(t=>Q.value(t)).join(", ")),N=m(()=>e.displayValue!==void 0?e.displayValue:p.value),le=m(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Ee=m(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||r.value.some(le.value))),X=m(()=>l.focused.value===!0?e.tabindex:-1),Oe=m(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${l.targetUid.value}_lb`};return a.value>=0&&(t["aria-activedescendant"]=`${l.targetUid.value}_${a.value}`),t}),ne=m(()=>({id:`${l.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ue=m(()=>r.value.map((t,s)=>({index:s,opt:t,html:le.value(t),selected:!0,removeAtIndex:Ft,toggleOption:se,tabindex:X.value}))),Re=m(()=>{if(U.value===0)return[];const{from:t,to:s}=Be.value;return e.options.slice(t,s).map((n,f)=>{const z=ve.value(n)===!0,q=We(n)===!0,R=t+f,I={clickable:!0,active:q,activeClass:ze.value,manualFocus:!0,focused:!1,disable:z,tabindex:-1,dense:e.optionsDense,dark:_.value,role:"option","aria-selected":q===!0?"true":"false",id:`${l.targetUid.value}_${R}`,onClick:()=>{se(n)}};return z!==!0&&(a.value===R&&(I.focused=!0),x.platform.is.desktop===!0&&(I.onMousemove=()=>{u.value===!0&&me(R)})),{index:R,opt:n,html:le.value(n),label:Q.value(n),selected:I.active,focused:I.focused,toggleOption:se,setOptionIndex:me,itemProps:I}})}),qe=m(()=>e.dropdownIcon!==void 0?e.dropdownIcon:x.iconSet.arrow.dropdown),je=m(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ze=m(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),J=m(()=>Ye(e.optionValue,"value")),Q=m(()=>Ye(e.optionLabel,"label")),ve=m(()=>Ye(e.optionDisable,"disable")),Fe=m(()=>r.value.map(t=>J.value(t))),Rt=m(()=>{const t={onInput:pt,onChange:Ge,onKeydown:St,onKeyup:vt,onKeypress:mt,onFocus:dt,onClick(s){T===!0&&ye(s)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Ge,t});we(r,t=>{A=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&l.innerLoading.value!==!0&&(i.value!==!0&&u.value!==!0||G.value!==!0)&&(L!==!0&&pe(),(i.value===!0||u.value===!0)&&Se(""))},{immediate:!0}),we(()=>e.fillInput,pe),we(u,Xe),we(U,el);function rt(t){return e.emitValue===!0?J.value(t):t}function Ke(t){if(t!==-1&&t<r.value.length)if(e.multiple===!0){const s=e.modelValue.slice();c("remove",{index:t,value:s.splice(t,1)[0]}),c("update:modelValue",s)}else c("update:modelValue",null)}function Ft(t){Ke(t),l.focus()}function ct(t,s){const n=rt(t);if(e.multiple!==!0){e.fillInput===!0&&_e(Q.value(t),!0,!0),c("update:modelValue",n);return}if(r.value.length===0){c("add",{index:0,value:n}),c("update:modelValue",e.multiple===!0?[n]:n);return}if(s===!0&&We(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const f=e.modelValue.slice();c("add",{index:f.length,value:n}),f.push(n),c("update:modelValue",f)}function se(t,s){if(l.editable.value!==!0||t===void 0||ve.value(t)===!0)return;const n=J.value(t);if(e.multiple!==!0){s!==!0&&(_e(e.fillInput===!0?Q.value(t):"",!0,!0),re()),$.value!==null&&$.value.focus(),(r.value.length===0||Te(J.value(r.value[0]),n)!==!0)&&c("update:modelValue",e.emitValue===!0?n:t);return}if((T!==!0||D.value===!0)&&l.focus(),dt(),r.value.length===0){const q=e.emitValue===!0?n:t;c("add",{index:0,value:q}),c("update:modelValue",e.multiple===!0?[q]:q);return}const f=e.modelValue.slice(),z=Fe.value.findIndex(q=>Te(q,n));if(z!==-1)c("remove",{index:z,value:f.splice(z,1)[0]});else{if(e.maxValues!==void 0&&f.length>=e.maxValues)return;const q=e.emitValue===!0?n:t;c("add",{index:f.length,value:q}),f.push(q)}c("update:modelValue",f)}function me(t){if(x.platform.is.desktop!==!0)return;const s=t!==-1&&t<U.value?t:-1;a.value!==s&&(a.value=s)}function Pe(t=1,s){if(u.value===!0){let n=a.value;do n=At(n+t,-1,U.value-1);while(n!==-1&&n!==a.value&&ve.value(e.options[n])===!0);a.value!==n&&(me(n),fe(n),s!==!0&&e.useInput===!0&&e.fillInput===!0&&Le(n>=0?Q.value(e.options[n]):H,!0))}}function Pt(t,s){const n=f=>Te(J.value(f),t);return e.options.find(n)||s.find(n)||t}function Ye(t,s){const n=t!==void 0?t:s;return typeof n=="function"?n:f=>f!==null&&typeof f=="object"&&n in f?f[n]:f}function We(t){const s=J.value(t);return Fe.value.find(n=>Te(n,s))!==void 0}function dt(t){e.useInput===!0&&$.value!==null&&(t===void 0||$.value===t.target&&t.target.value===p.value)&&$.value.select()}function ft(t){gl(t,27)===!0&&u.value===!0&&(ye(t),re(),pe()),c("keyup",t)}function vt(t){const{value:s}=t.target;if(t.keyCode!==void 0){ft(t);return}if(t.target.value="",V!==null&&(clearTimeout(V),V=null),k!==null&&(clearTimeout(k),k=null),pe(),typeof s=="string"&&s.length!==0){const n=s.toLocaleLowerCase(),f=q=>{const R=e.options.find(I=>q.value(I).toLocaleLowerCase()===n);return R===void 0?!1:(r.value.indexOf(R)===-1?se(R):re(),!0)},z=q=>{f(J)!==!0&&(f(Q)===!0||q===!0||Se(s,!0,()=>z(!0)))};z()}else l.clearValue(t)}function mt(t){c("keypress",t)}function St(t){if(c("keydown",t),pl(t)===!0)return;const s=h.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),n=t.shiftKey!==!0&&e.multiple!==!0&&(a.value!==-1||s===!0);if(t.keyCode===27){Ze(t);return}if(t.keyCode===9&&n===!1){he();return}if(t.target===void 0||t.target.id!==l.targetUid.value||l.editable.value!==!0)return;if(t.keyCode===40&&l.innerLoading.value!==!0&&u.value===!1){ce(t),ge();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ke(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&c("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(ce(t),a.value=-1,Pe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&de.value!==void 0&&(ce(t),a.value=Math.max(-1,Math.min(U.value,a.value+(t.keyCode===33?-1:1)*de.value.view)),Pe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ce(t),Pe(t.keyCode===38?-1:1,e.multiple));const f=U.value;if((F===void 0||M<Date.now())&&(F=""),f>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||F.length!==0)){u.value!==!0&&ge(t);const z=t.key.toLocaleLowerCase(),q=F.length===1&&F[0]===z;M=Date.now()+1500,q===!1&&(ce(t),F+=z);const R=new RegExp("^"+F.split("").map(Je=>Ql.indexOf(Je)!==-1?"\\"+Je:Je).join(".*"),"i");let I=a.value;if(q===!0||I<0||R.test(Q.value(e.options[I]))!==!0)do I=At(I+1,-1,f-1);while(I!==a.value&&(ve.value(e.options[I])===!0||R.test(Q.value(e.options[I]))!==!0));a.value!==I&&oe(()=>{me(I),fe(I),I>=0&&e.useInput===!0&&e.fillInput===!0&&Le(Q.value(e.options[I]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||F!=="")&&(t.keyCode!==9||n===!1))){if(t.keyCode!==9&&ce(t),a.value!==-1&&a.value<f){se(e.options[a.value]);return}if(s===!0){const z=(q,R)=>{if(R){if(Tt(R)!==!0)return}else R=e.newValueMode;if(_e("",e.multiple!==!0,!0),q==null)return;(R==="toggle"?se:ct)(q,R==="add-unique"),e.multiple!==!0&&($.value!==null&&$.value.focus(),re())};if(e.onNewValue!==void 0?c("newValue",h.value,z):z(h.value),e.multiple!==!0)return}u.value===!0?he():l.innerLoading.value!==!0&&ge()}}function ht(){return T===!0?ke.value:te.value!==null&&te.value.contentEl!==null?te.value.contentEl:void 0}function Lt(){return ht()}function Ht(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?ue.value.map(t=>o["selected-item"](t)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?ue.value.map((t,s)=>b(Fl,{key:"option-"+s,removable:l.editable.value===!0&&ve.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:X.value,onRemove(){t.removeAtIndex(s)}},()=>b("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:Q.value(t.opt)}))):[b("span",{[Ee.value===!0?"innerHTML":"textContent"]:N.value})]}function gt(){if(B.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:h.value}):void 0;const t=o.option!==void 0?o.option:n=>b(Et,{key:n.index,...n.itemProps},()=>b(_l,()=>b(Tl,()=>b("span",{[n.html===!0?"innerHTML":"textContent"]:n.label}))));let s=Qe("div",Re.value.map(t));return o["before-options"]!==void 0&&(s=o["before-options"]().concat(s)),yl(o["after-options"],s)}function Ut(t,s){const n=s===!0?{...Oe.value,...l.splitAttrs.attributes.value}:void 0,f={ref:s===!0?$:void 0,key:"i_t",class:w.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...n,id:s===!0?l.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Rt.value};return t!==!0&&T===!0&&(Array.isArray(f.class)===!0?f.class=[...f.class,"no-pointer-events"]:f.class+=" no-pointer-events"),b("input",f)}function pt(t){V!==null&&(clearTimeout(V),V=null),k!==null&&(clearTimeout(k),k=null),!(t&&t.target&&t.target.qComposing===!0)&&(Le(t.target.value||""),L=!0,H=h.value,l.focused.value!==!0&&(T!==!0||D.value===!0)&&l.focus(),e.onFilter!==void 0&&(V=setTimeout(()=>{V=null,Se(h.value)},e.inputDebounce)))}function Le(t,s){h.value!==t&&(h.value=t,s===!0||e.inputDebounce===0||e.inputDebounce==="0"?c("inputValue",t):k=setTimeout(()=>{k=null,c("inputValue",t)},e.inputDebounce))}function _e(t,s,n){L=n!==!0,e.useInput===!0&&(Le(t,!0),(s===!0||n!==!0)&&(H=t),s!==!0&&Se(t))}function Se(t,s,n){if(e.onFilter===void 0||s!==!0&&l.focused.value!==!0)return;l.innerLoading.value===!0?c("filterAbort"):(l.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&r.value.length!==0&&L!==!0&&t===Q.value(r.value[0])&&(t="");const f=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);v!==null&&clearTimeout(v),v=f,c("filter",t,(z,q)=>{(s===!0||l.focused.value===!0)&&v===f&&(clearTimeout(v),typeof z=="function"&&z(),d.value=!1,oe(()=>{l.innerLoading.value=!1,l.editable.value===!0&&(s===!0?u.value===!0&&re():u.value===!0?Xe(!0):u.value=!0),typeof q=="function"&&oe(()=>{q(S)}),typeof n=="function"&&oe(()=>{n(S)})}))},()=>{l.focused.value===!0&&v===f&&(clearTimeout(v),l.innerLoading.value=!1,d.value=!1),u.value===!0&&(u.value=!1)})}function Nt(){return b(Il,{ref:te,class:y.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&B.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:_.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:je.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ne.value,onScrollPassive:De,onBeforeShow:bt,onBeforeHide:Qt,onShow:jt},gt)}function Qt(t){Vt(t),he()}function jt(){Ae()}function Kt(t){ye(t),$.value!==null&&$.value.focus(),D.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Yt(t){ye(t),oe(()=>{D.value=!1})}function Wt(){const t=[b(Ol,{class:`col-auto ${l.fieldClass.value}`,...g.value,for:l.targetUid.value,dark:_.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:h.value.length!==0,...l.splitAttrs.listeners.value,onFocus:Kt,onBlur:Yt},{...o,rawControl:()=>l.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(b("div",{ref:ke,class:y.value+" scroll",style:e.popupContentStyle,...ne.value,onClick:Ze,onScrollPassive:De},gt())),b(it,{ref:ae,modelValue:i.value,position:e.useInput===!0?"top":void 0,transitionShow:ee,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:bt,onBeforeHide:Xt,onHide:Jt,onShow:Zt},()=>b("div",{class:"q-select__dialog"+(_.value===!0?" q-select__dialog--dark q-dark":"")+(D.value===!0?" q-select__dialog--focused":"")},t))}function Xt(t){Vt(t),ae.value!==null&&ae.value.__updateRefocusTarget(l.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),l.focused.value=!1}function Jt(t){re(),l.focused.value===!1&&c("blur",t),pe()}function Zt(){const t=document.activeElement;(t===null||t.id!==l.targetUid.value)&&$.value!==null&&$.value!==t&&$.value.focus(),Ae()}function he(){i.value!==!0&&(a.value=-1,u.value===!0&&(u.value=!1),l.focused.value===!1&&(v!==null&&(clearTimeout(v),v=null),l.innerLoading.value===!0&&(c("filterAbort"),l.innerLoading.value=!1,d.value=!1)))}function ge(t){l.editable.value===!0&&(T===!0?(l.onControlFocusin(t),i.value=!0,oe(()=>{l.focus()})):l.focus(),e.onFilter!==void 0?Se(h.value):(B.value!==!0||o["no-option"]!==void 0)&&(u.value=!0))}function re(){i.value=!1,he()}function pe(){e.useInput===!0&&_e(e.multiple!==!0&&e.fillInput===!0&&r.value.length!==0&&Q.value(r.value[0])||"",!0,!0)}function Xe(t){let s=-1;if(t===!0){if(r.value.length!==0){const n=J.value(r.value[0]);s=e.options.findIndex(f=>Te(J.value(f),n))}W(s)}me(s)}function el(t,s){u.value===!0&&l.innerLoading.value===!1&&(W(-1,!0),oe(()=>{u.value===!0&&l.innerLoading.value===!1&&(t>s?W():Xe(!0))}))}function yt(){i.value===!1&&te.value!==null&&te.value.updatePosition()}function bt(t){t!==void 0&&ye(t),c("popupShow",t),l.hasPopupOpen=!0,l.onControlFocusin(t)}function Vt(t){t!==void 0&&ye(t),c("popupHide",t),l.hasPopupOpen=!1,l.onControlFocusout(t)}function wt(){T=x.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||B.value===!1:!0),ee=x.platform.is.ios===!0&&T===!0&&e.useInput===!0?"fade":e.transitionShow}return ml(wt),Sl(yt),wt(),Bt(()=>{V!==null&&clearTimeout(V),k!==null&&clearTimeout(k)}),Object.assign(S,{showPopup:ge,hidePopup:re,removeAtIndex:Ke,add:ct,toggleOption:se,getOptionIndex:()=>a.value,setOptionIndex:me,moveOptionSelection:Pe,filter:Se,updateMenuPosition:yt,updateInputValue:_e,isOptionSelected:We,getEmittingOptionValue:rt,isOptionDisabled:(...t)=>ve.value.apply(null,t)===!0,getOptionValue:(...t)=>J.value.apply(null,t),getOptionLabel:(...t)=>Q.value.apply(null,t)}),Object.assign(l,{innerValue:r,fieldClass:m(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:$e,targetRef:$,hasValue:G,showPopup:ge,floatingLabel:m(()=>e.hideSelected!==!0&&G.value===!0||typeof h.value=="number"||h.value.length!==0||Ct(e.displayValue)),getControlChild:()=>{if(l.editable.value!==!1&&(i.value===!0||B.value!==!0||o["no-option"]!==void 0))return T===!0?Wt():Nt();l.hasPopupOpen===!0&&(l.hasPopupOpen=!1)},controlEvents:{onFocusin(t){l.onControlFocusin(t)},onFocusout(t){l.onControlFocusout(t,()=>{pe(),he()})},onClick(t){if(Ze(t),T!==!0&&u.value===!0){he(),$.value!==null&&$.value.focus();return}ge(t)}},getControl:t=>{const s=Ht(),n=t===!0||i.value!==!0||T!==!0;if(e.useInput===!0)s.push(Ut(t,n));else if(l.editable.value===!0){const z=n===!0?Oe.value:void 0;s.push(b("input",{ref:n===!0?$:void 0,key:"d_t",class:"q-select__focus-target",id:n===!0?l.targetUid.value:void 0,value:N.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...z,onKeydown:St,onKeyup:ft,onKeypress:mt})),n===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&s.push(b("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:vt}))}if(ie.value!==void 0&&e.disable!==!0&&Fe.value.length!==0){const z=Fe.value.map(q=>b("option",{value:q,selected:!0}));s.push(b("select",{class:"hidden",name:ie.value,multiple:e.multiple},z))}const f=e.useInput===!0||n!==!0?void 0:l.splitAttrs.attributes.value;return b("div",{class:"q-field__native row items-center",...f,...l.splitAttrs.listeners.value},s)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[b(Ue,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:qe.value})]:null}),Mt(l)}});const Yl=Vl({name:"IndexPage",data(){return{changeAlertTimeDialog:!1,coinsStorageKey:"coins",enableNotificationsBeta:!1,days:[{label:"Sunday",value:0},{label:"Monday",value:1},{label:"Tuesday",value:2},{label:"Wednesday",value:3},{label:"Thursday",value:4},{label:"Friday",value:5},{label:"Saturday",value:6}]}},beforeMount(){this.goalsStore=Bl(),this.goalsStore.initialize(),this.successesStore=El(),this.successesStore.initialize(),this.settingsStore=zt(),this.settingsStore.initialize(),this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()),this.$emit("refresh-header")},computed:{...wl(zt,["useBigButtons","goalsSortStyle"]),buttonClass(){return this.useBigButtons?"bigBtn":""},sortStyle(){return this.goalsSortStyle},buttonText(){return`Sort: ${this.sortStyle}`}},methods:{viewUnscheduledGoals(){this.$router.push("unscheduledGoals")},unscheduleGoal(e){this.$q.notify("Goal unscheduled!"),e.changeDateDialog=!1,this.goalsStore.addUnscheduledGoal(e),this.goalsStore.removeGoal(e),this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()),this.goalsStore.sortUnscheduledGoals(this.settingsStore.getGoalsSortStyle())},saveGoals(){this.$q.notify("Goals saved!"),this.goalsStore.saveGoals()},completeGoal(e){if(e.goal.length<1){this.$q.notify("Enter a title first!");return}if(e.stepsEnabled){for(var o=!0,c=0;c<e.stepsSize;c++)e.steps[c].value||(o=!1);if(!o){this.$q.notify("Complete all steps first!");return}}this.$q.dialog({title:"Confirm",message:'Confirm completion of goal: "'+e.goal+'"',cancel:!0,persistent:!0}).onOk(()=>{var S=this.goalsStore.goalReward(e);this.$q.notify("Rewarded "+S+" coins for completion!"),this.settingsStore.coins=this.settingsStore.coins+S,this.settingsStore.totalCoins=this.settingsStore.totalCoins+S;var x=Object.assign({},e);if(x.alertTime=null,x.date=this.getDateWithTime(),x.dateTieBreaker=this.getTime(),x.type="goal",this.successesStore.addEntry(x),this.$q.notify('Goal complete! "'+x.goal+'"'),this.settingsStore.saveCoins(),Array.isArray(e.repeatDays)&&e.repeatDays.length>0){var u=Object.assign({},e);if(u.date=this.goalsStore.nextDate(e),u.nextDate=this.goalsStore.nextDate(u),u.stepsEnabled)for(var i=0;i<u.stepsSize;i++)u.steps[i].value=!1;this.goalsStore.addGoal(u,this.settingsStore.getGoalsSortStyle()),this.$q.notify("Repeat goal "+u.goal+" set for "+u.date)}this.goalsStore.removeGoal(e),this.$emit("refresh-header")})},toggleSteps(e){e.steps?(e.stepsEnabled=!e.stepsEnabled,e.stepsEnabled&&e.stepsSize==0&&this.addSteps(e)):(e.stepsEnabled=!0,e.steps=[],e.stepsSize=0,this.addSteps(e)),this.saveGoals()},toggleGoalsSortStyle(){this.settingsStore.toggleGoalsSortStyle(),this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle())},findMatchingInput(){return new Promise(e=>{this.$nextTick(()=>{this.$nextTick(()=>{for(const o in this.$refs.stepDescRef){const c=this.$refs.stepDescRef[o];if(c.modelValue==this.selectedStep.label){e(c);return}}e(null)})})})},handleStepInput(e){if(e.key){if(e.key=="Enter")e.preventDefault(),e.stopPropagation(),this.addSteps(this.selectedGoal,this.selectedStepIndex+1),this.findMatchingInput().then(o=>{o&&(this.selectedStep.label="",o.focus(),this.saveGoals())}),this.saveGoals();else if(e.key=="End")e.preventDefault(),e.stopPropagation(),this.$q.dialog({title:"Confirm",message:"Confirm deletion of step.",cancel:!0,persistent:!0}).onOk(()=>{this.selectedGoal.steps.splice(this.selectedStepIndex,1),this.selectedGoal.stepsSize--,this.selectedGoal.stepsSize==0&&(this.selectedGoal.stepsEnabled=!1,this.selectedStep=null),this.saveGoals()});else if(e.key=="Backspace"&&this.selectedStep.label==""){if(e.preventDefault(),e.stopPropagation(),this.selectedGoal.stepsSize==0){this.selectedGoal.stepsEnabled=!1,this.selectedStep=null;return}this.selectedStepIndex+1<this.selectedGoal.steps.length&&(this.selectedStep=this.selectedGoal.steps[this.selectedStepIndex+1]),this.selectedGoal.steps.splice(this.selectedStepIndex,1),this.selectedGoal.stepsSize--,this.selectedStep=this.selectedGoal.steps[this.selectedStepIndex],this.selectedGoal.stepsSize==0&&(this.selectedGoal.stepsEnabled=!1,this.selectedStep=null),this.saveGoals()}}},addSteps(e,o){e.stepsSize<20&&(e.stepsSize++,o?(e.steps.splice(o,0,{label:"",value:!1}),this.selectedStep=e.steps[o],this.selectedStep.label="   "):(e.steps.push({label:"",value:!1}),this.selectedStep=e.steps[e.stepsSize-1]),this.saveGoals(),console.log(JSON.stringify(e)))},removeSteps(e){e.steps.splice(e.stepsSize-1,1),e.stepsSize--,e.stepsSize==0&&(e.stepsEnabled=!1,this.selectedStep=null),this.saveGoals()},removeGoal(e){var o='Are you sure you want to delete the goal: "'+e.goal+'"?';e.goal.length<1&&(o="Are you sure you want to delete the unnamed goal?"),this.$q.dialog({title:"Confirm",message:o,cancel:!0,persistent:!0}).onOk(()=>{this.$q.notify('Goal deleted: "'+e.goal+'"'),this.goalsStore.removeGoal(e)})},getDate(){const e=Date().toString();return ot.formatDate(e,"MMM D, YYYY")},getDateWithTime(){const e=Date().toString();return ot.formatDate(e,"MMM D, YYYY, hh:mm A")},getTime(){return new Date().getTime()},displayAlertTime(e){const o=new Date;return o.setHours(parseInt(e.split(":")[0],10)),o.setMinutes(parseInt(e.split(":")[1],10)),o.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0})},openDatePicker(e){e.changeDateDialog=!0},closeDatePicker(e){e.date=ot.formatDate(e.date,"MMM D, YYYY"),e.changeDateDialog=!1,this.$q.notify("Goals saved!"),this.settingsStore.getGoalsSortStyle()=="Date"&&this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle())},closeAlertTimeDialog(e){e.changeAlertTimeDialog=!1,this.saveGoals()}}}),Wl={class:"q-gutter-md row justify-center"},Xl={class:"goal-data"},Jl={class:"text-h6"},Zl={class:"difficulty-select"},eo={key:0},to=E("br",null,null,-1),lo={class:"steps_checkboxes full-width"},oo={class:"stepTable full-width"},ao={scope:"row",class:"firstColumn"},io=E("br",null,null,-1),no={key:1},uo={"q-pa-lg":"",class:"text-black"},so={key:0},ro=E("br",null,null,-1),co={class:"row items-center justify-end"},fo={key:2,class:"alert-data"},vo={key:0,"q-pa-lg":"",class:"text-black"},mo=E("br",null,null,-1),So={class:"row items-center justify-center"},ho={key:0,class:"alert-data"},go={key:1};function po(e,o,c,S,x,u){return K(),kt(Gl,{"items-center":"",class:"goal-page"},{default:P(()=>[E("div",Wl,[C(ql,{"no-wrap":""},{default:P(()=>[C(j,{size:"lg",class:"top-button",onClick:o[0]||(o[0]=i=>this.goalsStore.addGoal(null,this.settingsStore.getGoalsSortStyle())),style:{"margin-left":"0.5rem"}},{default:P(()=>[be("Add New Goal")]),_:1}),C(j,{size:"lg",class:"top-button",onClick:o[1]||(o[1]=i=>this.toggleGoalsSortStyle()),style:{"margin-left":"1rem","margin-right":"0.5rem"}},{default:P(()=>[be(Ve(e.buttonText),1)]),_:1}),C(j,{size:"lg",class:"top-button",onClick:o[2]||(o[2]=i=>this.viewUnscheduledGoals()),style:{"margin-left":"0.5rem","margin-right":"0.5rem"}},{default:P(()=>[be("Unscheduled")]),_:1})]),_:1})]),C(zl,null,{default:P(()=>[(K(!0),Z(Dt,null,xt(this.goalsStore.goals,i=>et((K(),kt(Et,{key:i},{default:P(()=>[C(Cl,{class:"goal-card text-white full-width"},{default:P(()=>[C(kl,null,{default:P(()=>[E("div",Xl,[E("div",Jl,[C(tt,{multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,standout:"bg-primary text-black",class:"full-width text-h6","input-class":"text-left",label:"Goal Title",modelValue:i.goal,"onUpdate:modelValue":[a=>i.goal=a,o[3]||(o[3]=a=>this.goalsStore.saveGoals())],onFocus:o[4]||(o[4]=a=>this.$q.notify("Goal will be saved once you enter a title"))},null,8,["modelValue","onUpdate:modelValue"])]),E("div",Zl,[C(He,{"keep-color":"",modelValue:i.difficulty,"onUpdate:modelValue":[a=>i.difficulty=a,o[5]||(o[5]=a=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Easy",label:"Easy",color:"green"},null,8,["modelValue","onUpdate:modelValue"]),C(He,{"keep-color":"",modelValue:i.difficulty,"onUpdate:modelValue":[a=>i.difficulty=a,o[6]||(o[6]=a=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Moderate",label:"Moderate",color:"orange"},null,8,["modelValue","onUpdate:modelValue"]),C(He,{"keep-color":"",modelValue:i.difficulty,"onUpdate:modelValue":[a=>i.difficulty=a,o[7]||(o[7]=a=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Hard",label:"Hard",color:"red"},null,8,["modelValue","onUpdate:modelValue"]),C(He,{"keep-color":"",modelValue:i.difficulty,"onUpdate:modelValue":[a=>i.difficulty=a,o[8]||(o[8]=a=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Epic",label:"Epic",color:"black"},null,8,["modelValue","onUpdate:modelValue"])]),i.stepsEnabled?(K(),Z("div",eo,[E("p",null,[be(" Base Reward: "+Ve(this.goalsStore.baseReward(i))+" coins.",1),to]),E("div",lo,[E("table",oo,[E("thead",null,[(K(!0),Z(Dt,null,xt(i.steps,(a,h)=>(K(),Z("tr",{key:h},[E("th",ao,[C(xl,{modelValue:a.value,"onUpdate:modelValue":[D=>a.value=D,o[9]||(o[9]=D=>this.saveGoals())]},null,8,["modelValue","onUpdate:modelValue"])]),E("th",null,[C(tt,{ref_for:!0,ref:"stepDescRef",multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,standout:"bg-primary text-black",class:"full-width","input-class":"text-left",label:"Step Description",modelValue:a.label,"onUpdate:modelValue":[D=>a.label=D,o[10]||(o[10]=D=>this.goalsStore.saveGoals())],onKeydown:e.handleStepInput,onFocus:D=>{this.selectedGoal=i,this.selectedStep=a,this.selectedStepIndex=h}},null,8,["modelValue","onUpdate:modelValue","onKeydown","onFocus"])])]))),128))])]),C(j,{flat:"",dense:"",glossy:"",icon:"add",color:"green",onClick:a=>e.addSteps(i)},null,8,["onClick"]),C(j,{flat:"",dense:"",glossy:"",icon:"remove",color:"red",onClick:a=>e.removeSteps(i)},null,8,["onClick"])]),be(" Total Reward: "+Ve(this.goalsStore.goalReward(i))+" coins.",1),io])):(K(),Z("div",no,[E("p",uo," Reward for completion: "+Ve(this.goalsStore.goalReward(i))+" coins. ",1)])),E("div",{class:Ie(["text-goal",{overdue:this.goalsStore.goalExpired(i)}])},[C(Kl,{modelValue:i.repeatDays,"onUpdate:modelValue":[a=>i.repeatDays=a,o[11]||(o[11]=a=>this.saveGoals())],multiple:"","multiple-sort":"",options:e.days,label:"Repeats on these days","display-value":this.goalsStore.displayRepeatDays(i.repeatDays)},null,8,["modelValue","onUpdate:modelValue","options","display-value"]),i.repeatDays&&i.repeatDays.length>0?(K(),Z("div",so,[ro,E("p",null," Will occur again on "+Ve(this.goalsStore.nextDate(i)),1)])):lt("",!0),C(tt,{"no-outline":"",style:{"padding-right":"1e","min-width":"35%"},"input-class":"text-left text-bold",label:"Complete By",modelValue:i.date,"onUpdate:modelValue":a=>i.date=a,onClick:a=>e.openDatePicker(i)},{default:P(()=>[C(it,{modelValue:i.changeDateDialog,"onUpdate:modelValue":a=>i.changeDateDialog=a},{default:P(()=>[C(Ml,{modelValue:i.date,"onUpdate:modelValue":[a=>i.date=a,a=>e.closeDatePicker(i)]},{default:P(()=>[E("div",co,[et(C(j,{onClick:a=>e.unscheduleGoal(i),label:"Unschedule",color:"primary",flat:""},null,8,["onClick"]),[[qt]]),et(C(j,{onClick:a=>e.closeDatePicker(i),label:"Close",color:"primary",flat:""},null,8,["onClick"]),[[qt]])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onClick"])],2),this.settingsStore.useNotificationBeta?(K(),Z("div",fo,[i.alertTime?(K(),Z("p",vo,[mo,be("Alert Time: "+Ve(e.displayAlertTime(i.alertTime))+" day of goal. ",1)])):lt("",!0),C(it,{modelValue:i.changeAlertTimeDialog,"onUpdate:modelValue":a=>i.changeAlertTimeDialog=a},{default:P(()=>[C($l,{modelValue:i.alertTime,"onUpdate:modelValue":[a=>i.alertTime=a,o[12]||(o[12]=a=>this.saveGoals())],onClose:a=>e.closeAlertTimeDialog(i)},{default:P(()=>[E("div",So,[C(j,{"float-left":"",label:"Disable",onClick:a=>this.goalsStore.disableNotification(i),color:"primary",flat:""},null,8,["onClick"]),C(j,{label:"Close",color:"primary",onClick:a=>e.closeAlertTimeDialog(i),flat:""},null,8,["onClick"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onClose"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])):lt("",!0)])]),_:2},1024),C(Dl,{dark:""}),C(Al,null,{default:P(()=>[C(j,{class:Ie(e.buttonClass),flat:"",glossy:"",icon:"check",color:"green",onClick:a=>e.completeGoal(i)},null,8,["class","onClick"]),C(j,{class:Ie(e.buttonClass),flat:"",glossy:"",icon:"123",color:"yellow",onClick:a=>e.toggleSteps(i),style:{"margin-left":"0"}},null,8,["class","onClick"]),this.settingsStore.useNotificationBeta?(K(),Z("div",ho,[C(j,{class:Ie(e.buttonClass),flat:"",glossy:"",icon:"notifications",color:"red",onClick:a=>i.changeAlertTimeDialog=!0},null,8,["class","onClick"])])):(K(),Z("div",go)),C(j,{class:Ie(e.buttonClass),flat:"",glossy:"",icon:"delete",color:"black",onClick:a=>e.removeGoal(i)},null,8,["class","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[Gt]])),128))]),_:1})]),_:1})}var $o=bl(Yl,[["render",po]]);export{$o as default};
