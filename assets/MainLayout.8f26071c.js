import{c as I,a as o,h as y,b as X,i as fe,e as D,r as S,w as m,o as Ce,d as Fe,g as Z,l as ee,u as Ie,f as Ne,j as Ee,k as Ke,m as Ue,n as je,p as Ye,q as Ge,s as ye,t as Je,v as we,x as Xe,y as _e,z as Ze,A as et,B as se,C as Y,D as tt,E as at,F as $e,_ as Le,G as F,H as J,I as x,J as $,Q as nt,K as ot,L as ce,M as K,N as be,O as pe,P as lt,R as A,S as it,T as rt,U as st}from"./index.d2b7b962.js";import{Q as de,a as ut}from"./QScrollObserver.dd1902ab.js";import{Q as ct}from"./QImg.7d45949c.js";import{Q as dt}from"./QList.86d97a2c.js";import{T as ue}from"./TouchPan.f72ff56c.js";import{b as G,Q as ft,d as vt}from"./QItem.24bba064.js";import{u as mt}from"./store_settings.92027855.js";import{u as ht}from"./store_successes.7211e793.js";import{Q as ke}from"./QItemSection.32a55d4d.js";import{Q as Se}from"./QItemLabel.90c02135.js";import"./selection.d7f7c76d.js";var gt=I({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:v}){const d=o(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>y("div",{class:d.value},X(v.default))}}),yt=I({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:v}){const d=o(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>y("div",{class:d.value,role:"toolbar"},X(v.default))}}),wt=I({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:v,emit:d}){const{proxy:{$q:c}}=Z(),l=fe(ee,D);if(l===D)return console.error("QHeader needs to be child of QLayout"),D;const s=S(parseInt(e.heightHint,10)),b=S(!0),L=o(()=>e.reveal===!0||l.view.value.indexOf("H")!==-1||c.platform.is.ios&&l.isContainer.value===!0),p=o(()=>{if(e.modelValue!==!0)return 0;if(L.value===!0)return b.value===!0?s.value:0;const n=s.value-l.scroll.value.position;return n>0?n:0}),k=o(()=>e.modelValue!==!0||L.value===!0&&b.value!==!0),a=o(()=>e.modelValue===!0&&k.value===!0&&e.reveal===!0),V=o(()=>"q-header q-layout__section--marginal "+(L.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(k.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),z=o(()=>{const n=l.rows.value.top,q={};return n[0]==="l"&&l.left.space===!0&&(q[c.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),n[2]==="r"&&l.right.space===!0&&(q[c.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),q});function g(n,q){l.update("header",n,q)}function f(n,q){n.value!==q&&(n.value=q)}function B({height:n}){f(s,n),g("size",n)}function w(n){a.value===!0&&f(b,!0),d("focusin",n)}m(()=>e.modelValue,n=>{g("space",n),f(b,!0),l.animate()}),m(p,n=>{g("offset",n)}),m(()=>e.reveal,n=>{n===!1&&f(b,e.modelValue)}),m(b,n=>{l.animate(),d("reveal",n)}),m(l.scroll,n=>{e.reveal===!0&&f(b,n.direction==="up"||n.position<=e.revealOffset||n.position-n.inflectionPoint<100)});const u={};return l.instances.header=u,e.modelValue===!0&&g("size",s.value),g("space",e.modelValue),g("offset",p.value),Ce(()=>{l.instances.header===u&&(l.instances.header=void 0,g("size",0),g("offset",0),g("space",!1))}),()=>{const n=Fe(v.default,[]);return e.elevated===!0&&n.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(y(de,{debounce:0,onResize:B})),y("header",{class:V.value,style:z.value,onFocusin:w},n)}}});const qe=150;var bt=I({name:"QDrawer",inheritAttrs:!1,props:{...Ie,...Ne,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ee,"onLayout","miniState"],setup(e,{slots:v,emit:d,attrs:c}){const l=Z(),{proxy:{$q:s}}=l,b=Ke(e,s),{preventBodyScroll:L}=Xe(),{registerTimeout:p,removeTimeout:k}=Ue(),a=fe(ee,D);if(a===D)return console.error("QDrawer needs to be child of QLayout"),D;let V,z=null,g;const f=S(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),B=o(()=>e.mini===!0&&f.value!==!0),w=o(()=>B.value===!0?e.miniWidth:e.width),u=S(e.showIfAbove===!0&&f.value===!1?!0:e.modelValue===!0),n=o(()=>e.persistent!==!0&&(f.value===!0||Te.value===!0));function q(t,i){if(O(),t!==!1&&a.animate(),T(0),f.value===!0){const C=a.instances[U.value];C!==void 0&&C.belowBreakpoint===!0&&C.hide(!1),H(1),a.isContainer.value!==!0&&L(!0)}else H(0),t!==!1&&le(!1);p(()=>{t!==!1&&le(!0),i!==!0&&d("show",t)},qe)}function r(t,i){N(),t!==!1&&a.animate(),H(0),T(R.value*w.value),ie(),i!==!0?p(()=>{d("hide",t)},qe):k()}const{show:h,hide:_}=je({showing:u,hideOnRouteChange:n,handleShow:q,handleHide:r}),{addToHistory:O,removeFromHistory:N}=Ye(u,_,n),P={belowBreakpoint:f,hide:_},Q=o(()=>e.side==="right"),R=o(()=>(s.lang.rtl===!0?-1:1)*(Q.value===!0?1:-1)),ve=S(0),W=S(!1),te=S(!1),me=S(w.value*R.value),U=o(()=>Q.value===!0?"left":"right"),ae=o(()=>u.value===!0&&f.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:w.value:0),ne=o(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(Q.value?"R":"L")!==-1||s.platform.is.ios===!0&&a.isContainer.value===!0),E=o(()=>e.overlay===!1&&u.value===!0&&f.value===!1),Te=o(()=>e.overlay===!0&&u.value===!0&&f.value===!1),xe=o(()=>"fullscreen q-drawer__backdrop"+(u.value===!1&&W.value===!1?" hidden":"")),ze=o(()=>({backgroundColor:`rgba(0,0,0,${ve.value*.4})`})),he=o(()=>Q.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),Be=o(()=>Q.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Qe=o(()=>{const t={};return a.header.space===!0&&he.value===!1&&(ne.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&Be.value===!1&&(ne.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),De=o(()=>{const t={width:`${w.value}px`,transform:`translateX(${me.value}px)`};return f.value===!0?t:Object.assign(t,Qe.value)}),He=o(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Me=o(()=>`q-drawer q-drawer--${e.side}`+(te.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(b.value===!0?" q-drawer--dark q-dark":"")+(W.value===!0?" no-transition":u.value===!0?"":" q-layout--prevent-focus")+(f.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${B.value===!0?"mini":"standard"}`+(ne.value===!0||E.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(he.value===!0?" q-drawer--top-padding":""))),Ve=o(()=>{const t=s.lang.rtl===!0?e.side:U.value;return[[ue,We,void 0,{[t]:!0,mouse:!0}]]}),Oe=o(()=>{const t=s.lang.rtl===!0?U.value:e.side;return[[ue,ge,void 0,{[t]:!0,mouse:!0}]]}),Pe=o(()=>{const t=s.lang.rtl===!0?U.value:e.side;return[[ue,ge,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function oe(){Ae(f,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}m(f,t=>{t===!0?(V=u.value,u.value===!0&&_(!1)):e.overlay===!1&&e.behavior!=="mobile"&&V!==!1&&(u.value===!0?(T(0),H(0),ie()):h(!1))}),m(()=>e.side,(t,i)=>{a.instances[i]===P&&(a.instances[i]=void 0,a[i].space=!1,a[i].offset=0),a.instances[t]=P,a[t].size=w.value,a[t].space=E.value,a[t].offset=ae.value}),m(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&oe()}),m(()=>e.behavior+e.breakpoint,oe),m(a.isContainer,t=>{u.value===!0&&L(t!==!0),t===!0&&oe()}),m(a.scrollbarWidth,()=>{T(u.value===!0?0:void 0)}),m(ae,t=>{M("offset",t)}),m(E,t=>{d("onLayout",t),M("space",t)}),m(Q,()=>{T()}),m(w,t=>{T(),re(e.miniToOverlay,t)}),m(()=>e.miniToOverlay,t=>{re(t,w.value)}),m(()=>s.lang.rtl,()=>{T()}),m(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Re(),a.animate())}),m(B,t=>{d("miniState",t)});function T(t){t===void 0?ye(()=>{t=u.value===!0?0:w.value,T(R.value*t)}):(a.isContainer.value===!0&&Q.value===!0&&(f.value===!0||Math.abs(t)===w.value)&&(t+=R.value*a.scrollbarWidth.value),me.value=t)}function H(t){ve.value=t}function le(t){const i=t===!0?"remove":a.isContainer.value!==!0?"add":"";i!==""&&document.body.classList[i]("q-body--drawer-toggle")}function Re(){z!==null&&clearTimeout(z),l.proxy&&l.proxy.$el&&l.proxy.$el.classList.add("q-drawer--mini-animate"),te.value=!0,z=setTimeout(()=>{z=null,te.value=!1,l&&l.proxy&&l.proxy.$el&&l.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function We(t){if(u.value!==!1)return;const i=w.value,C=G(t.distance.x,0,i);if(t.isFinal===!0){C>=Math.min(75,i)===!0?h():(a.animate(),H(0),T(R.value*i)),W.value=!1;return}T((s.lang.rtl===!0?Q.value!==!0:Q.value)?Math.max(i-C,0):Math.min(0,C-i)),H(G(C/i,0,1)),t.isFirst===!0&&(W.value=!0)}function ge(t){if(u.value!==!0)return;const i=w.value,C=t.direction===e.side,j=(s.lang.rtl===!0?C!==!0:C)?G(t.distance.x,0,i):0;if(t.isFinal===!0){Math.abs(j)<Math.min(75,i)===!0?(a.animate(),H(1),T(0)):_(),W.value=!1;return}T(R.value*j),H(G(1-j/i,0,1)),t.isFirst===!0&&(W.value=!0)}function ie(){L(!1),le(!0)}function M(t,i){a.update(e.side,t,i)}function Ae(t,i){t.value!==i&&(t.value=i)}function re(t,i){M("size",t===!0?e.miniWidth:i)}return a.instances[e.side]=P,re(e.miniToOverlay,w.value),M("space",E.value),M("offset",ae.value),e.showIfAbove===!0&&e.modelValue!==!0&&u.value===!0&&e["onUpdate:modelValue"]!==void 0&&d("update:modelValue",!0),Ge(()=>{d("onLayout",E.value),d("miniState",B.value),V=e.showIfAbove===!0;const t=()=>{(u.value===!0?q:r)(!1,!0)};if(a.totalWidth.value!==0){ye(t);return}g=m(a.totalWidth,()=>{g(),g=void 0,u.value===!1&&e.showIfAbove===!0&&f.value===!1?h(!1):t()})}),Ce(()=>{g!==void 0&&g(),z!==null&&(clearTimeout(z),z=null),u.value===!0&&ie(),a.instances[e.side]===P&&(a.instances[e.side]=void 0,M("size",0),M("offset",0),M("space",!1))}),()=>{const t=[];f.value===!0&&(e.noSwipeOpen===!1&&t.push(Je(y("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ve.value)),t.push(we("div",{ref:"backdrop",class:xe.value,style:ze.value,"aria-hidden":"true",onClick:_},void 0,"backdrop",e.noSwipeBackdrop!==!0&&u.value===!0,()=>Pe.value)));const i=B.value===!0&&v.mini!==void 0,C=[y("div",{...c,key:""+i,class:[He.value,c.class]},i===!0?v.mini():X(v.default))];return e.elevated===!0&&u.value===!0&&C.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(we("aside",{ref:"content",class:Me.value,style:De.value},C,"contentclose",e.noSwipeClose!==!0&&f.value===!0,()=>Oe.value)),y("div",{class:"q-drawer-container"},t)}}}),pt=I({name:"QPageContainer",setup(e,{slots:v}){const{proxy:{$q:d}}=Z(),c=fe(ee,D);if(c===D)return console.error("QPageContainer needs to be child of QLayout"),D;_e(Ze,!0);const l=o(()=>{const s={};return c.header.space===!0&&(s.paddingTop=`${c.header.size}px`),c.right.space===!0&&(s[`padding${d.lang.rtl===!0?"Left":"Right"}`]=`${c.right.size}px`),c.footer.space===!0&&(s.paddingBottom=`${c.footer.size}px`),c.left.space===!0&&(s[`padding${d.lang.rtl===!0?"Right":"Left"}`]=`${c.left.size}px`),s});return()=>y("div",{class:"q-page-container",style:l.value},X(v.default))}}),kt=I({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:v,emit:d}){const{proxy:{$q:c}}=Z(),l=S(null),s=S(c.screen.height),b=S(e.container===!0?0:c.screen.width),L=S({position:0,direction:"down",inflectionPoint:0}),p=S(0),k=S(et.value===!0?0:se()),a=o(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),V=o(()=>e.container===!1?{minHeight:c.screen.height+"px"}:null),z=o(()=>k.value!==0?{[c.lang.rtl===!0?"left":"right"]:`${k.value}px`}:null),g=o(()=>k.value!==0?{[c.lang.rtl===!0?"right":"left"]:0,[c.lang.rtl===!0?"left":"right"]:`-${k.value}px`,width:`calc(100% + ${k.value}px)`}:null);function f(r){if(e.container===!0||document.qScrollPrevented!==!0){const h={position:r.position.top,direction:r.direction,directionChanged:r.directionChanged,inflectionPoint:r.inflectionPoint.top,delta:r.delta.top};L.value=h,e.onScroll!==void 0&&d("scroll",h)}}function B(r){const{height:h,width:_}=r;let O=!1;s.value!==h&&(O=!0,s.value=h,e.onScrollHeight!==void 0&&d("scrollHeight",h),u()),b.value!==_&&(O=!0,b.value=_),O===!0&&e.onResize!==void 0&&d("resize",r)}function w({height:r}){p.value!==r&&(p.value=r,u())}function u(){if(e.container===!0){const r=s.value>p.value?se():0;k.value!==r&&(k.value=r)}}let n=null;const q={instances:{},view:o(()=>e.view),isContainer:o(()=>e.container),rootRef:l,height:s,containerHeight:p,scrollbarWidth:k,totalWidth:o(()=>b.value+k.value),rows:o(()=>{const r=e.view.toLowerCase().split(" ");return{top:r[0].split(""),middle:r[1].split(""),bottom:r[2].split("")}}),header:Y({size:0,offset:0,space:!1}),right:Y({size:300,offset:0,space:!1}),footer:Y({size:0,offset:0,space:!1}),left:Y({size:300,offset:0,space:!1}),scroll:L,animate(){n!==null?clearTimeout(n):document.body.classList.add("q-body--layout-animate"),n=setTimeout(()=>{n=null,document.body.classList.remove("q-body--layout-animate")},155)},update(r,h,_){q[r][h]=_}};if(_e(ee,q),se()>0){let _=function(){r=null,h.classList.remove("hide-scrollbar")},O=function(){if(r===null){if(h.scrollHeight>c.screen.height)return;h.classList.add("hide-scrollbar")}else clearTimeout(r);r=setTimeout(_,300)},N=function(P){r!==null&&P==="remove"&&(clearTimeout(r),_()),window[`${P}EventListener`]("resize",O)},r=null;const h=document.body;m(()=>e.container!==!0?"add":"remove",N),e.container!==!0&&N("add"),tt(()=>{N("remove")})}return()=>{const r=at(v.default,[y(ut,{onScroll:f}),y(de,{onResize:B})]),h=y("div",{class:a.value,style:V.value,ref:e.container===!0?void 0:l,tabindex:-1},r);return e.container===!0?y("div",{class:"q-layout-container overflow-hidden",ref:l},[y(de,{onResize:w}),y("div",{class:"absolute-full",style:z.value},[y("div",{class:"scroll",style:g.value},[h])])]):h}}});const St=$e({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}},computed:{isActive(){return this.route.path===this.link}}});function qt(e,v,d,c,l,s){return F(),J(ft,{clickable:"",tag:"a",target:"_self",href:e.link},{default:x(()=>[e.icon?(F(),J(ke,{key:0,avatar:""},{default:x(()=>[$(nt,{name:e.icon},null,8,["name"])]),_:1})):ot("",!0),$(ke,null,{default:x(()=>[$(Se,null,{default:x(()=>[ce(K(e.title),1)]),_:1}),$(Se,{caption:""},{default:x(()=>[ce(K(e.caption),1)]),_:1})]),_:1})]),_:1},8,["href"])}var Ct=Le(St,[["render",qt]]),_t="/assets/road_icon.c16190f5.jpg";const $t=[{title:"Dreams",caption:"View your dreams",icon:"star",link:"#/dreams"},{title:"Goals",caption:"View your goals",icon:"sports_score",link:"#/goals"},{title:"Habits",caption:"View your habits",icon:"home",link:"#/habits"},{title:"Successes",caption:"View your triumphs",icon:"check",link:"#/successes"},{title:"Notes",caption:"View your notes",icon:"description",link:"#/notes"},{title:"Spend Coins",caption:"View purchaseable unlocks",icon:"arrow_circle_up",link:"#/unlocks"},{title:"Settings",caption:"Adjust settings",icon:"settings",link:"#/settings"},{title:"Help",caption:"How to use Art Motives",icon:"help",link:"#/help"},{title:"About",caption:"About this application",icon:"info",link:"#/about"}];setInterval(function(){let e=new Date().getHours(),v=new Date().getMinutes(),d=new Date().getSeconds();e==0&&v==0&&d==0&&location.reload()},1e3);function Lt(){const e=Date.now();return vt.formatDate(e,"dddd, MMM D, YYYY")}const Tt=$e({name:"MainLayout",components:{EssentialLink:Ct},data(){return{componentKey:0}},beforeMount(){this.settingsStore=mt(),this.settingsStore.initialize(),this.successesStore=ht(),this.successesStore.initialize()},setup(){const e=S(!1);return{essentialLinks:$t,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value},today:Lt}},methods:{refresh(e){setTimeout(()=>{e(),this.refreshHeader(),window.location.reload()},500)},refreshHeader(){this.componentKey+=1},linkClicked(){window.screen.width<1280&&this.toggleLeftDrawer()}}}),xt=A("div",null,"v0.9.12",-1),zt={class:"q-px-lg q-pt-sm q-mb-md"},Bt={class:"text-subtitle1",header:""},Qt={class:"no-margin"};function Dt(e,v,d,c,l,s){const b=be("EssentialLink"),L=be("router-view");return F(),J(kt,{view:"lHh Lpr lFf"},{default:x(()=>[(F(),pe("MyComponent",{key:e.componentKey})),$(wt,{elevated:""},{default:x(()=>[$(yt,null,{default:x(()=>[$(lt,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),$(gt,null,{default:x(()=>[ce(K(e.today()),1)]),_:1}),xt]),_:1}),A("div",zt,[A("div",Bt,[A("h6",Qt,[A("span",null,"Coins: "+K(this.settingsStore.getCoins()),1),A("span",null,"Coins/Day: "+K(Math.round(this.settingsStore.getTotalCoins()/this.successesStore.daysSinceFirstSuccess())),1)])])])]),_:1}),$(bt,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":v[1]||(v[1]=p=>e.leftDrawerOpen=p),"show-if-above":"",bordered:""},{default:x(()=>[$(dt,null,{default:x(()=>[$(ct,{src:_t}),(F(!0),pe(rt,null,it(e.essentialLinks,p=>(F(),J(b,st({key:p.title},p,{onClick:v[0]||(v[0]=k=>this.linkClicked())}),null,16))),128))]),_:1})]),_:1},8,["modelValue"]),$(pt,null,{default:x(()=>[$(L,{onRefreshHeader:e.refreshHeader},null,8,["onRefreshHeader"])]),_:1})]),_:1})}var Kt=Le(Tt,[["render",Dt]]);export{Kt as default};
