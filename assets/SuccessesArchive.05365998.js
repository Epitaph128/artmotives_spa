import{_ as l,F as c,o as m,ak as h,G as o,H as r,I as t,R as n,J as a,P as d,al as p,L as g,O as f,S as v,T as b,s as y,b6 as S,as as _}from"./index.72e2c796.js";import{Q as E}from"./QBtnGroup.b69c6302.js";import{Q as C}from"./QItem.e6aea75d.js";import{Q as w}from"./QList.726589ab.js";import{Q as A}from"./QPage.3fcf59c0.js";import{u as B,Q as $}from"./QSpinnerFacebook.2ae7f491.js";import{u as k}from"./store_successes.ff3b616b.js";import{u}from"./store_settings.a1abbadf.js";import{D as Q,G as q,H as D}from"./HabitEntry.b4ce74d7.js";import"./date.a6efd5a0.js";const F=c({name:"SuccessesArchive",components:{DreamEntry:Q,GoalEntry:q,HabitEntry:D},data(){return{}},created(){this.showLoading()},beforeMount(){this.successesStore=k(),this.successesStore.initializeArchive(),this.settingsStore=u(),this.settingsStore.initialize(),this.successesStore.successesArchive.forEach(e=>{e.visible==null&&(e.visible=!0)}),this.$emit("refresh-header"),this.settingsStore.termsUpToDate()||this.$router.push("terms")},setup(){const e=B();let s;return m(()=>{s!==void 0&&(clearTimeout(s),e.loading.hide())}),{showLoading(){e.loading.show({spinner:$,spinnerColor:"white",spinnerSize:140,backgroundColor:"black",message:"Loading your successes archive... Please wait!",messageColor:"white"}),s=setTimeout(()=>{e.loading.hide(),s=void 0},500)}}},computed:{...h(u,["useBigButtons"]),buttonClass(){return this.useBigButtons?"bigBtn":""}},methods:{getComponentForEntry(e){switch(e.type){case"dream":return"DreamEntry";case"goal":return"GoalEntry";case"habit":return"HabitEntry";default:return null}},removeEntry(e){e.type=="goal"?this.$q.dialog({title:"Confirm",message:'Are you sure you want to delete the goal success: "'+e.goal+'"',cancel:!0,persistent:!0}).onOk(()=>{this.$q.notify('Goal record deleted: "'+e.goal+'"'),this.successesStore.removeArchivedEntry(e.id)}):e.type=="habit"?this.$q.dialog({title:"Confirm",message:'Are you sure you want to delete the habit milestone: "'+e.habit+'"',cancel:!0,persistent:!0}).onOk(()=>{this.$q.notify('Habit milestone record deleted: "'+e.habit+'"'),this.successesStore.removeArchivedEntry(e.id)}):e.type=="dream"?this.$q.dialog({title:"Confirm",message:'Are you sure you want to delete the dream achievement: "'+e.title+'"',cancel:!0,persistent:!0}).onOk(()=>{this.$q.notify('Dream achievement deleted: "'+e.title+'"'),this.successesStore.removeArchivedEntry(e.id)}):this.successesStore.removeArchivedEntry(e.id)},toggleVisibility(e){e.visible=!e.visible,this.successesStore.saveArchivedEntries()}}}),G={class:"q-gutter-md row justify-center"},T=n("br",null,null,-1),V=n("h1",{class:"q-mt-none q-mb-none text-white"},"Your Archive",-1);function L(e,s,H,z,O,R){return o(),r(A,{"items-center":"",class:"successes-page"},{default:t(()=>[n("div",G,[a(E,{"no-wrap":""},{default:t(()=>[a(d,{class:p([e.buttonClass,"top-button"]),onClick:s[0]||(s[0]=i=>e.$router.push("successes"))},{default:t(()=>[g("Go back")]),_:1},8,["class"])]),_:1})]),T,V,a(w,null,{default:t(()=>[(o(!0),f(b,null,v(this.successesStore.successesArchive,i=>y((o(),r(C,{key:i},{default:t(()=>[(o(),r(S(e.getComponentForEntry(i)),{entry:i,buttonClass:this.useBigButtons?"bigBtn":"",dateFormat:this.settingsStore.useDateFormat,onRemoveEntry:e.removeEntry,onToggleVisibility:e.toggleVisibility},null,40,["entry","buttonClass","dateFormat","onRemoveEntry","onToggleVisibility"]))]),_:2},1024)),[[_]])),128))]),_:1})]),_:1})}var W=l(F,[["render",L]]);export{W as default};
