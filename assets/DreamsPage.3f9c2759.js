import{_ as p,M as g,ai as S,N as r,O as u,P as i,Y as m,R as s,X as n,aj as l,T as D,W as d,Z as y,$ as C,y as v,ak as k,al as $,am as c,ap as b,aq as _}from"./index.2c3181a7.js";import{Q as w}from"./QBtnGroup.f458635f.js";import{a as B,Q}from"./QItem.bf5e00ce.js";import{Q as V}from"./QPage.80e98623.js";import{d as h}from"./date.9078881e.js";import{u as q}from"./store_dreams.447db76a.js";import{u as T}from"./store_successes.fc609fbd.js";import{u as f}from"./store_settings.52634101.js";const Y=g({name:"DreamsPage",data(){return[]},beforeMount(){this.dreamsStore=q(),this.dreamsStore.initialize(),this.successesStore=T(),this.successesStore.initialize(),this.settingsStore=f(),this.settingsStore.initialize(),this.$emit("refresh-header")},computed:{...S(f,["useBigButtons"]),buttonClass(){return this.useBigButtons?"bigBtn":""}},methods:{completeDream(e){if(!e.ready){e.ready=!0,this.$q.notify("Click again to mark complete!");return}this.$q.dialog({title:"Confirm",message:'Confirm you achieved your dream: "'+e.title+'"',cancel:!0,persistent:!0}).onOk(()=>{var t=2500;this.$q.notify("Rewarded "+t+" coins for completion!"),this.settingsStore.coins=this.settingsStore.coins+t,this.settingsStore.totalCoins=this.settingsStore.totalCoins+t,e.date=this.getDateWithTime(),e.dateTieBreaker=this.getTime(),e.type="dream",this.successesStore.addEntry(e),this.$q.notify("Dream achieved: "+e.title+"!"),this.settingsStore.saveCoins(),this.dreamsStore.removeDream(e),this.$emit("refresh-header")})},removeDream(e){this.$q.dialog({title:"Confirm",message:"Are you sure you want to delete this dream?",cancel:!0,persistent:!0}).onOk(()=>{this.$q.notify("Dream Deleted."),this.dreamsStore.removeDream(e)})},getDate(){const e=Date().toString();return h.formatDate(e,"MMM D, YYYY")},getDateWithTime(){const e=Date().toString();return h.formatDate(e,"MMM D, YYYY, hh:mm A")},getTime(){return new Date().getTime()}}}),M={class:"flex justify-center q-mb-lg"},x={class:"notes-data"},N=m("br",null,null,-1),z={class:"text-subtitle2"},A={key:0},P={key:1};function U(e,t,O,R,W,j){return r(),u(V,{"items-center":"",class:"dreams-page"},{default:i(()=>[m("div",M,[s(w,{"no-wrap":""},{default:i(()=>[s(n,{class:l([e.buttonClass,"top-button"]),onClick:t[0]||(t[0]=a=>this.dreamsStore.addDream())},{default:i(()=>[D("New Dream")]),_:1},8,["class"])]),_:1})]),s(B,null,{default:i(()=>[(r(!0),d(C,null,y(this.dreamsStore.dreams,a=>v((r(),u(Q,{key:a},{default:i(()=>[s(k,{class:"notes-card text-white full-width outlined"},{default:i(()=>[s($,null,{default:i(()=>[m("div",x,[s(c,{multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,standout:"bg-primary text-black",class:"full-width text-h6","input-class":"text-left",label:"Dream Title",modelValue:a.title,"onUpdate:modelValue":[o=>a.title=o,t[1]||(t[1]=o=>this.dreamsStore.saveDreams())],onFocus:t[2]||(t[2]=o=>this.$q.notify("Dream will be saved once you enter a title"))},null,8,["modelValue","onUpdate:modelValue"]),N,m("div",z,[s(c,{"no-outline":"",style:{"padding-right":"1em","min-width":"35%"},"input-class":"text-left",label:"Dream Created",modelValue:a.createdDate,"onUpdate:modelValue":o=>a.createdDate=o,readonly:""},null,8,["modelValue","onUpdate:modelValue"])])])]),_:2},1024),s(b,null,{default:i(()=>[a.ready?(r(),d("div",A,[s(n,{class:l(e.buttonClass),flat:"",dense:"",glossy:"",icon:"done_all",color:"green",onClick:o=>e.completeDream(a)},null,8,["class","onClick"])])):(r(),d("div",P,[s(n,{class:l(e.buttonClass),flat:"",dense:"",glossy:"",icon:"check",color:"green",onClick:o=>e.completeDream(a)},null,8,["class","onClick"])])),s(n,{class:l(e.buttonClass),style:{margin:"0"},flat:"",dense:"",glossy:"",icon:"delete",color:"black",onClick:o=>e.removeDream(a)},null,8,["class","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[_]])),128))]),_:1})]),_:1})}var J=p(Y,[["render",U]]);export{J as default};
