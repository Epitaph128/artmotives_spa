import{_ as g,M as p,ai as S,N as r,O as u,P as i,Y as l,R as a,T as D,X as n,W as m,Z as y,$ as C,y as v,aj as k,al as $,am as c,ap as _,ak as d,aq as b}from"./index.f83e1aae.js";import{a as w,Q as B}from"./QItem.c1f6e4a3.js";import{Q as V}from"./QPage.6fb8ce89.js";import{d as h}from"./date.08359868.js";import{u as Q}from"./store_dreams.4453facb.js";import{u as q}from"./store_successes.7deedbaa.js";import{u as f}from"./store_settings.929c3625.js";const T=p({name:"DreamsPage",data(){return[]},beforeMount(){this.dreamsStore=Q(),this.dreamsStore.initialize(),this.successesStore=q(),this.successesStore.initialize(),this.settingsStore=f(),this.settingsStore.initialize(),this.$emit("refresh-header")},computed:{...S(f,["useBigButtons"]),buttonClass(){return this.useBigButtons?"bigBtn":""}},methods:{completeDream(e){if(!e.ready){e.ready=!0,this.$q.notify("Click again to mark complete!");return}this.$q.dialog({title:"Confirm",message:'Confirm you achieved your dream: "'+e.title+'"',cancel:!0,persistent:!0}).onOk(()=>{var t=2500;this.$q.notify("Rewarded "+t+" coins for completion!"),this.settingsStore.coins=this.settingsStore.coins+t,this.settingsStore.totalCoins=this.settingsStore.totalCoins+t,e.date=this.getDateWithTime(),e.dateTieBreaker=this.getTime(),e.type="dream",this.successesStore.addEntry(e),this.$q.notify("Dream achieved: "+e.title+"!"),this.settingsStore.saveCoins(),this.dreamsStore.removeDream(e),this.$emit("refresh-header")})},removeDream(e){this.$q.dialog({title:"Confirm",message:"Are you sure you want to delete this dream?",cancel:!0,persistent:!0}).onOk(()=>{this.$q.notify("Dream Deleted."),this.dreamsStore.removeDream(e)})},getDate(){const e=Date().toString();return h.formatDate(e,"MMM D, YYYY")},getDateWithTime(){const e=Date().toString();return h.formatDate(e,"MMM D, YYYY, hh:mm A")},getTime(){return new Date().getTime()}}}),Y={class:"flex justify-center q-mb-lg"},M={class:"notes-data"},x=l("br",null,null,-1),z={class:"text-subtitle2"},A={key:0},N={key:1};function P(e,t,U,O,R,W){return r(),u(V,{"items-center":"",class:"dreams-page"},{default:i(()=>[l("div",Y,[a(n,{size:"lg",class:"top-button",onClick:t[0]||(t[0]=s=>this.dreamsStore.addDream())},{default:i(()=>[D("Add New Dream")]),_:1})]),a(w,null,{default:i(()=>[(r(!0),m(C,null,y(this.dreamsStore.dreams,s=>v((r(),u(B,{key:s},{default:i(()=>[a(k,{class:"notes-card text-white full-width outlined"},{default:i(()=>[a($,null,{default:i(()=>[l("div",M,[a(c,{multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,standout:"bg-primary text-black",class:"full-width text-h6","input-class":"text-left",label:"Dream Title",modelValue:s.title,"onUpdate:modelValue":[o=>s.title=o,t[1]||(t[1]=o=>this.dreamsStore.saveDreams())],onFocus:t[2]||(t[2]=o=>this.$q.notify("Dream will be saved once you enter a title"))},null,8,["modelValue","onUpdate:modelValue"]),x,l("div",z,[a(c,{"no-outline":"",style:{"padding-right":"1em","min-width":"35%"},"input-class":"text-left",label:"Dream Created",modelValue:s.createdDate,"onUpdate:modelValue":o=>s.createdDate=o,readonly:""},null,8,["modelValue","onUpdate:modelValue"])])])]),_:2},1024),a(_,null,{default:i(()=>[s.ready?(r(),m("div",A,[a(n,{class:d(e.buttonClass),flat:"",dense:"",glossy:"",icon:"done_all",color:"green",onClick:o=>e.completeDream(s)},null,8,["class","onClick"])])):(r(),m("div",N,[a(n,{class:d(e.buttonClass),flat:"",dense:"",glossy:"",icon:"check",color:"green",onClick:o=>e.completeDream(s)},null,8,["class","onClick"])])),a(n,{class:d(e.buttonClass),style:{margin:"0"},flat:"",dense:"",glossy:"",icon:"delete",color:"black",onClick:o=>e.removeDream(s)},null,8,["class","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[b]])),128))]),_:1})]),_:1})}var G=g(T,[["render",P]]);export{G as default};
