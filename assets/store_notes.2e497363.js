import{a0 as r}from"./index.72e2c796.js";import{d as o}from"./date.a6efd5a0.js";const a="store_notes",i="storage_notes_next_id",h=r("notes",{state:()=>({notes:[],nextId:0}),actions:{getDate(t=""){return o.formatDate(t||new Date().toString(),"MMM D, YYYY")},getDateWithTime(t=""){return o.formatDate(t||new Date().toString(),"MMM D, YYYY, hh:mm A")},initialize(){const t=localStorage.getItem(i);this.nextId=t?JSON.parse(t):0;const s=localStorage.getItem(a);this.notes=s?JSON.parse(s):[],Array.isArray(this.notes)?this.notes.forEach(e=>{e.id||(e.id=this.getNextId()),e.date||(e.date=o.formatDate(new Date().toString(),"MMM D, YYYY"))}):this.notes=[],this.saveNotes()},getNextId(){return this.nextId++,this.saveNextId(),this.nextId-1},saveNextId(){localStorage.setItem(i,JSON.stringify(this.nextId))},addNote(){Array.isArray(this.notes)||(this.notes=[]),this.notes.unshift({note:"",id:this.getNextId(),title:"",date:o.formatDate(new Date().toString(),"MMM D, YYYY"),show:!0}),this.saveNotes()},removeNote(t){const s=this.notes.findIndex(e=>e.id===t);this.notes.splice(s,1),this.saveNotes()},saveNotes(){localStorage.setItem(a,JSON.stringify(this.notes)),localStorage.setItem("lastTimestamp",Date.now())},eraseNotes(){localStorage.setItem(a,JSON.stringify([])),localStorage.setItem(i,JSON.stringify(0))}}});export{h as u};
