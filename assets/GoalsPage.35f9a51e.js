import{_ as x,F as P,o as Y,ak as I,G as a,H as v,I as r,R as i,J as o,P as d,al as u,L as m,M as h,O as n,K as c,S as V,T as C,t as w,am as $,an as F,ao as D,aC as S,aD as _,ap as T,aq as L,ar as U,as as M}from"./index.3e2fdd3f.js";import{Q as B}from"./QBtnGroup.575e37fd.js";import{Q}from"./QCircularProgress.1fc8cc90.js";import{Q as q}from"./QSelect.e28f2021.js";import{Q as N}from"./QDate.529d9bfe.js";import{Q as H}from"./QTime.3180f569.js";import{Q as R}from"./QItem.e9ac38fe.js";import{Q as E}from"./QList.81afd486.js";import{Q as O}from"./QPage.a4a092f8.js";import{u as j,C as A}from"./store_goals.2a9a89cb.js";import{u as K,Q as W}from"./QSpinnerFacebook.1d00a684.js";import{d as b}from"./date.7e204f1e.js";import{u as J}from"./store_successes.9dd877a1.js";import{u as z}from"./store_settings.2ce65f01.js";import"./QItemSection.f05c24b2.js";import"./QItemLabel.04c43990.js";import"./QMenu.abbe22f8.js";import"./selection.85693b19.js";import"./TouchPan.e8df6ed8.js";const X=P({name:"GoalsPage",data(){return{changeAlertTimeDialog:!1,coinsStorageKey:"coins",enableNotificationsBeta:!1,days:[{label:"Sunday",value:0},{label:"Monday",value:1},{label:"Tuesday",value:2},{label:"Wednesday",value:3},{label:"Thursday",value:4},{label:"Friday",value:5},{label:"Saturday",value:6}]}},beforeMount(){this.settingsStore=z(),this.settingsStore.initialize(),this.goalsStore=j(),this.goalsStore.initialize(),this.successesStore=J(),this.successesStore.initialize(),this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()),this.$emit("refresh-header"),this.settingsStore.termsUpToDate()||this.$router.push("terms")},created(){this.showLoading()},setup(){const e=K();let l;return Y(()=>{l!==void 0&&(clearTimeout(l),e.loading.hide())}),{showLoading(){e.loading.show({spinner:W,spinnerColor:"white",spinnerSize:140,backgroundColor:"black",message:"Loading your goals... Please wait!",messageColor:"white"}),l=setTimeout(()=>{e.loading.hide(),l=void 0},500)}}},computed:{...I(z,["useBigButtons","goalsSortStyle"]),buttonClass(){return this.useBigButtons?"bigBtn":""},sortStyle(){return this.goalsSortStyle},buttonText(){return`Sort: ${this.sortStyle}`},formattedDate(){return function(e){const l=new Date(Date.parse(e));return b.formatDate(l,this.settingsStore.useDateFormat)}}},methods:{getDenseDisplayButtonText(){return this.settingsStore.useDenseModeGoals?"Dense Mode Active":"Dense Mode Disabled"},getMaskDate(e){if(this.settingsStore.useDateFormat==="MMM D, YYYY")return"";const l=new Date(Date.parse(e));return b.formatDate(l,this.settingsStore.useDateFormat)},viewUnscheduledGoals(){this.$router.push("unscheduledGoals")},unscheduleGoal(e){this.$q.notify("Goal unscheduled!"),e.changeDateDialog=!1,e.date=this.getDate(),this.goalsStore.addUnscheduledGoal(e),this.goalsStore.removeGoal(e.id),this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()),this.goalsStore.sortUnscheduledGoals(this.settingsStore.getGoalsSortStyle())},saveGoals(){this.$q.notify("Goals saved!"),this.goalsStore.saveGoals()},completeGoal(e){if(!e.ready){e.ready=!0,this.$q.notify("Click again to mark complete!");return}if(e.goal.length<1){this.$q.notify("Enter a title first!");return}if(e.stepsEnabled){for(var l=!0,f=0;f<e.stepsSize;f++)e.steps[f].value||(l=!1);if(!l){this.$q.notify("Complete all steps first!");return}}this.$q.dialog({title:"Confirm",message:'Confirm completion of goal: "'+e.goal+'"',cancel:!0,persistent:!0}).onOk(()=>{var G=this.goalsStore.goalReward(e);this.$q.notify("Rewarded "+G+" coins for completion!"),this.settingsStore.coins=this.settingsStore.coins+G,this.settingsStore.totalCoins=this.settingsStore.totalCoins+G;var g=Object.assign({},e);if(g.alertTime=null,g.date=this.getDateWithTime(),g.timeTieBreaker=this.getTime(),g.type="goal",this.successesStore.addEntry(g),this.$q.notify('Goal complete! "'+g.goal+'"'),this.settingsStore.saveCoins(),Array.isArray(e.repeatDays)&&e.repeatDays.length>0){var y=Object.assign({},e);if(y.date=this.goalsStore.nextDate(e),y.nextDate=this.goalsStore.nextDate(y),y.stepsEnabled)for(var t=0;t<y.stepsSize;t++)y.steps[t].value=!1;this.goalsStore.addGoal(y,this.settingsStore.getGoalsSortStyle()),this.$q.notify("Repeat goal "+y.goal+" set for "+y.date)}this.goalsStore.removeGoal(e.id),this.$emit("refresh-header")})},toggleSteps(e){e.steps?(e.stepsEnabled=!e.stepsEnabled,e.stepsEnabled&&e.stepsSize==0&&this.addSteps(e)):(e.stepsEnabled=!0,e.steps=[],e.stepsSize=0,this.addSteps(e)),this.saveGoals()},toggleGoalsSortStyle(){this.settingsStore.toggleGoalsSortStyle(),this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle())},findMatchingInput(){return new Promise(e=>{this.$nextTick(()=>{this.$nextTick(()=>{for(const l in this.$refs.stepDescRef){const f=this.$refs.stepDescRef[l];if(f.modelValue==this.selectedStep.label){e(f);return}}e(null)})})})},handleStepInput(e){if(e.key){if(e.key=="Enter")e.preventDefault(),e.stopPropagation(),this.addSteps(this.selectedGoal,this.selectedStepIndex+1),this.findMatchingInput().then(l=>{l&&(this.selectedStep.label="",l.focus(),this.saveGoals())}),this.saveGoals();else if(e.key=="Backspace"&&this.selectedStep.label==""){if(e.preventDefault(),e.stopPropagation(),this.selectedGoal.stepsSize==0){this.selectedGoal.stepsEnabled=!1,this.selectedStep=null;return}this.selectedStepIndex+1<this.selectedGoal.steps.length&&(this.selectedStep=this.selectedGoal.steps[this.selectedStepIndex+1]),this.selectedGoal.steps.splice(this.selectedStepIndex,1),this.selectedGoal.stepsSize--,this.selectedStep=this.selectedGoal.steps[this.selectedStepIndex],this.selectedGoal.stepsSize==0&&(this.selectedGoal.stepsEnabled=!1,this.selectedStep=null),this.saveGoals()}}},addSteps(e,l){e.stepsSize<20&&(e.stepsSize++,l?(e.steps.splice(l,0,{label:"",value:!1}),this.selectedStep=e.steps[l],this.selectedStep.label="   "):(e.steps.push({label:"",value:!1}),this.selectedStep=e.steps[e.stepsSize-1]),this.saveGoals())},removeSteps(e){e.steps.splice(e.stepsSize-1,1),e.stepsSize--,e.stepsSize==0&&(e.stepsEnabled=!1,this.selectedStep=null),this.saveGoals()},removeGoal(e){var l='Are you sure you want to delete the goal: "'+e.goal+'"?';e.goal.length<1&&(l="Are you sure you want to delete the unnamed goal?"),this.$q.dialog({title:"Confirm",message:l,cancel:!0,persistent:!0}).onOk(()=>{e.goal.length<1?this.$q.notify("Goal deleted"):this.$q.notify('Goal deleted: "'+e.goal+'"'),this.goalsStore.removeGoal(e.id)})},hideTutorial(){this.$q.dialog({title:"Acknowledge",message:"Have you read and understood the instructions?",cancel:!0,persistent:!0}).onOk(()=>{this.settingsStore.tutorialSettings.goalsTutorialHidden=!0,this.settingsStore.saveTutorialSettings()})},toggleDenseDisplay(){this.settingsStore.useDenseModeGoals||(this.settingsStore.useDenseModeGoals=!1),this.settingsStore.useDenseModeGoals=!this.settingsStore.useDenseModeGoals,this.settingsStore.saveDenseModeGoalsSetting()},getDate(){const e=Date().toString();return b.formatDate(e,"MMM D, YYYY")},getDateWithTime(){const e=Date().toString();return b.formatDate(e,"MMM D, YYYY, hh:mm A")},getTime(){return new Date().getTime()},displayAlertTime(e){const l=new Date;return l.setHours(parseInt(e.split(":")[0],10)),l.setMinutes(parseInt(e.split(":")[1],10)),l.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0})},openDatePicker(e){e.changeDateDialog=!0},closeDatePicker(e){e.date=b.formatDate(e.date,"MMM D, YYYY"),e.changeDateDialog=!1,this.$q.notify("Goals saved!"),this.settingsStore.getGoalsSortStyle()=="Date"&&this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle())},closeAlertTimeDialog(e){e.changeAlertTimeDialog=!1,this.saveGoals()},isGoalDueLater(e){return new Date(e.date)>new Date(this.getDate())},isGoalDueToday(e){return new Date(e.date).toString()==new Date(this.getDate()).toString()},isGoalOverdue(e){return new Date(e.date)<new Date(this.getDate())},isRepeatingGoalDueLater(e){return e.repeatDays&&e.repeatDays.length>0&&new Date(e.date)>new Date(this.getDate())}}}),Z={class:"q-gutter-md row justify-center"},ee={class:"q-gutter-md row justify-center",style:{"margin-top":"-2em","margin-bottom":"-1em"}},te=i("p",{class:"motivational"}," Whatever peaks you climb on your journey, always keep your dreams in mind! ",-1),se={key:0,class:"tutorial"},le=i("p",null,' Click "New Goal" to create a new goal as part of the schedule. You can click "Unscheduled" to create goals without a desired end date. Clicking the sort button will toggle between sorting by date (soonest to complete first), or difficulty from easy to epic or epic to easy (depending on the direction of the arrow). ',-1),oe={class:"goal-data"},ae={class:"text-h6"},ie={class:"difficulty-select"},ne={key:0},re=i("br",null,null,-1),de={class:"steps_checkboxes full-width"},ue={class:"stepTable full-width"},ce={scope:"row",class:"firstColumn"},pe={class:"steps-complete"},me={class:"text-black",style:{margin:"0"}},he=i("br",null,null,-1),fe={key:1},ye={class:"text-black",style:{margin:"0"}},Se=i("br",null,null,-1),ge={key:0},ve=i("br",null,null,-1),ke={key:0},De=i("p",null," Not due today. You may complete it and it will move to the next date based on the days you set. ",-1),be=[De],Ge={class:"row items-center justify-end"},Ve={key:2,class:"alert-data"},Ce={key:0,"q-pa-lg":"",class:"text-black"},we=i("br",null,null,-1),$e={class:"row items-center justify-center"},_e={key:0},Te={key:1},Ue={key:2,class:"alert-data"},Me={key:3},Be={class:"goal-data"},Qe={class:"text-h6"},qe={class:"difficulty-select q-pa-sm"},Re={key:0},Ee={class:"steps_checkboxes full-width"},Ae={class:"stepTable full-width"},ze={scope:"row",class:"firstColumn"},xe={key:1,class:"q-pa-sm"},Pe={key:2,class:"q-pa-sm"},Ye={key:0},Ie={key:1},Fe={key:0},Le={key:1},Ne={key:3,class:"q-pa-sm"},He={key:0},Oe={key:1},je={key:2},Ke={key:0},We={key:1},Je={key:2,class:"alert-data"},Xe={key:3};function Ze(e,l,f,G,g,y){return a(),v(O,{"items-center":"",class:"goal-page"},{default:r(()=>[i("div",Z,[o(B,{"no-wrap":""},{default:r(()=>[o(d,{class:u([e.buttonClass,"top-button"]),onClick:l[0]||(l[0]=t=>this.goalsStore.addGoal(null,this.settingsStore.getGoalsSortStyle())),style:{"margin-left":"0.5rem"}},{default:r(()=>[m("New Goal")]),_:1},8,["class"]),o(d,{class:u([e.buttonClass,"top-button"]),onClick:l[1]||(l[1]=t=>this.toggleGoalsSortStyle()),style:{"margin-left":"1rem","margin-right":"0.5rem"}},{default:r(()=>[m(h(e.buttonText),1)]),_:1},8,["class"]),o(d,{class:u([e.buttonClass,"top-button"]),onClick:l[2]||(l[2]=t=>this.viewUnscheduledGoals()),style:{"margin-left":"0.5rem","margin-right":"0.5rem"}},{default:r(()=>[m("Unscheduled")]),_:1},8,["class"])]),_:1})]),i("div",ee,[o(B,{"no-wrap":""},{default:r(()=>[o(d,{class:u([e.buttonClass,"top-button"]),onClick:l[3]||(l[3]=t=>this.toggleDenseDisplay())},{default:r(()=>[m(h(this.getDenseDisplayButtonText()),1)]),_:1},8,["class"])]),_:1})]),te,this.settingsStore.tutorialSettings.goalsTutorialHidden?c("",!0):(a(),n("div",se,[le,o(d,{flat:"",dense:"",glossy:"",icon:"done",color:"check",onClick:l[4]||(l[4]=t=>this.hideTutorial())})])),this.settingsStore.useDenseModeGoals?(a(),v(E,{key:2},{default:r(()=>[(a(!0),n(C,null,V(this.goalsStore.goals,t=>w((a(),v(R,{key:t},{default:r(()=>[o($,{class:"goal-card text-white full-width"},{default:r(()=>[i("div",Be,[i("div",Qe,[o(D,{multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,standout:"bg-primary text-black",class:"full-width text-h6","input-class":"text-left",label:"Goal Title",modelValue:t.goal,"onUpdate:modelValue":s=>t.goal=s,onFocus:l[13]||(l[13]=s=>this.$q.notify("Goal will be saved once you enter a title")),onBlur:s=>{t.goal=t.goal.trim(),this.goalsStore.saveGoals()}},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),i("div",qe,[o(S,{"keep-color":"",modelValue:t.difficulty,"onUpdate:modelValue":[s=>t.difficulty=s,l[14]||(l[14]=s=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Easy",label:"Easy",color:"green"},null,8,["modelValue","onUpdate:modelValue"]),o(S,{"keep-color":"",modelValue:t.difficulty,"onUpdate:modelValue":[s=>t.difficulty=s,l[15]||(l[15]=s=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Moderate",label:"Moderate",color:"orange"},null,8,["modelValue","onUpdate:modelValue"]),o(S,{"keep-color":"",modelValue:t.difficulty,"onUpdate:modelValue":[s=>t.difficulty=s,l[16]||(l[16]=s=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Hard",label:"Hard",color:"red"},null,8,["modelValue","onUpdate:modelValue"]),o(S,{"keep-color":"",modelValue:t.difficulty,"onUpdate:modelValue":[s=>t.difficulty=s,l[17]||(l[17]=s=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Epic",label:"Epic",color:"black"},null,8,["modelValue","onUpdate:modelValue"])]),t.stepsEnabled?(a(),n("div",Re,[i("div",Ee,[i("table",Ae,[i("thead",null,[(a(!0),n(C,null,V(t.steps,(s,k)=>(a(),n("tr",{key:k},[i("th",ze,[o(_,{modelValue:s.value,"onUpdate:modelValue":[p=>s.value=p,l[18]||(l[18]=p=>this.saveGoals())]},null,8,["modelValue","onUpdate:modelValue"])]),i("th",null,[o(D,{ref_for:!0,ref:"stepDescRef",multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,dense:"",standout:"bg-primary text-black",class:"full-width","input-class":"text-left",modelValue:s.label,"onUpdate:modelValue":p=>s.label=p,onKeydown:e.handleStepInput,onFocus:p=>{this.selectedGoal=t,this.selectedStep=s,this.selectedStepIndex=k},onBlur:p=>{s.label=s.label.trim(),this.goalsStore.saveGoals()}},null,8,["modelValue","onUpdate:modelValue","onKeydown","onFocus","onBlur"])])]))),128))])])])])):c("",!0),t.repeatDays&&t.repeatDays.length>0?(a(),n("div",xe,[o(q,{modelValue:t.repeatDays,"onUpdate:modelValue":[s=>t.repeatDays=s,l[19]||(l[19]=s=>this.saveGoals())],multiple:"","multiple-sort":"",options:e.days,label:"Repeats on these days","display-value":this.goalsStore.displayRepeatDays(t.repeatDays)},null,8,["modelValue","onUpdate:modelValue","options","display-value"])])):c("",!0),t.repeatDays&&t.repeatDays.length>0?(a(),n("div",Pe,[e.isRepeatingGoalDueLater(t)?(a(),n("div",Ye," Goal not due today! ")):(a(),n("div",Ie,[e.isGoalDueToday(t)?(a(),n("div",Fe,"Goal due today!")):c("",!0),e.isGoalOverdue(t)?(a(),n("div",Le,"Goal overdue!")):c("",!0)])),m(" Will occur again on "+h(this.formattedDate(this.goalsStore.nextDate(t)))+" if completed. ",1)])):c("",!0),t.repeatDays&&t.repeatDays.length>0?c("",!0):(a(),n("div",Ne,[e.isGoalDueToday(t)?(a(),n("div",He,"Goal due today!")):c("",!0),e.isGoalOverdue(t)?(a(),n("div",Oe,"Goal overdue!")):c("",!0),e.isGoalDueLater(t)?(a(),n("div",je," Complete by "+h(this.formattedDate(t.date)),1)):c("",!0)]))]),o(U,null,{default:r(()=>[t.ready?(a(),n("div",Ke,[o(d,{class:u(e.buttonClass),flat:"",glossy:"",icon:"done_all",color:"green",onClick:s=>e.completeGoal(t)},null,8,["class","onClick"])])):(a(),n("div",We,[o(d,{class:u(e.buttonClass),flat:"",glossy:"",icon:"check",color:"green",onClick:s=>e.completeGoal(t)},null,8,["class","onClick"])])),o(d,{class:u(e.buttonClass),flat:"",glossy:"",icon:"123",color:"yellow",onClick:s=>e.toggleSteps(t),style:{"margin-left":"0"}},null,8,["class","onClick"]),this.settingsStore.useNotificationBeta?(a(),n("div",Je,[o(d,{class:u(e.buttonClass),flat:"",glossy:"",icon:"notifications",color:"red",onClick:s=>t.changeAlertTimeDialog=!0},null,8,["class","onClick"])])):(a(),n("div",Xe)),o(d,{class:u(e.buttonClass),style:{padding:"0","min-width":"40px"},flat:"",glossy:"",icon:"delete",color:"black",onClick:s=>e.removeGoal(t)},null,8,["class","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[M]])),128))]),_:1})):(a(),v(E,{key:1},{default:r(()=>[(a(!0),n(C,null,V(this.goalsStore.goals,t=>w((a(),v(R,{key:t},{default:r(()=>[o($,{class:"goal-card text-white full-width"},{default:r(()=>[o(F,null,{default:r(()=>[i("div",oe,[i("div",ae,[o(D,{multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,standout:"bg-primary text-black",class:"full-width text-h6","input-class":"text-left",label:"Goal Title",modelValue:t.goal,"onUpdate:modelValue":s=>t.goal=s,onFocus:l[5]||(l[5]=s=>this.$q.notify("Goal will be saved once you enter a title")),onBlur:s=>{t.goal=t.goal.trim(),this.goalsStore.saveGoals()}},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),i("div",ie,[o(S,{"keep-color":"",modelValue:t.difficulty,"onUpdate:modelValue":[s=>t.difficulty=s,l[6]||(l[6]=s=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Easy",label:"Easy",color:"green"},null,8,["modelValue","onUpdate:modelValue"]),o(S,{"keep-color":"",modelValue:t.difficulty,"onUpdate:modelValue":[s=>t.difficulty=s,l[7]||(l[7]=s=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Moderate",label:"Moderate",color:"orange"},null,8,["modelValue","onUpdate:modelValue"]),o(S,{"keep-color":"",modelValue:t.difficulty,"onUpdate:modelValue":[s=>t.difficulty=s,l[8]||(l[8]=s=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Hard",label:"Hard",color:"red"},null,8,["modelValue","onUpdate:modelValue"]),o(S,{"keep-color":"",modelValue:t.difficulty,"onUpdate:modelValue":[s=>t.difficulty=s,l[9]||(l[9]=s=>this.goalsStore.sortGoals(this.settingsStore.getGoalsSortStyle()))],val:"Epic",label:"Epic",color:"black"},null,8,["modelValue","onUpdate:modelValue"])]),t.stepsEnabled?(a(),n("div",ne,[i("p",null,[m(" Base Reward: "+h(this.goalsStore.baseReward(t))+" coins.",1),re]),i("div",de,[i("table",ue,[i("thead",null,[(a(!0),n(C,null,V(t.steps,(s,k)=>(a(),n("tr",{key:k},[i("th",ce,[o(_,{modelValue:s.value,"onUpdate:modelValue":[p=>s.value=p,l[10]||(l[10]=p=>this.saveGoals())]},null,8,["modelValue","onUpdate:modelValue"])]),i("th",null,[o(D,{ref_for:!0,ref:"stepDescRef",multiline:"",autogrow:"",wrap:"on","min-rows":1,"max-rows":10,standout:"bg-primary text-black",class:"full-width","input-class":"text-left",modelValue:s.label,"onUpdate:modelValue":p=>s.label=p,onKeydown:e.handleStepInput,onFocus:p=>{this.selectedGoal=t,this.selectedStep=s,this.selectedStepIndex=k},onBlur:p=>{s.label=s.label.trim(),this.goalsStore.saveGoals()}},null,8,["modelValue","onUpdate:modelValue","onKeydown","onFocus","onBlur"])])]))),128))])]),o(d,{flat:"",dense:"",glossy:"",icon:"add",color:"green",onClick:s=>e.addSteps(t)},null,8,["onClick"]),o(d,{flat:"",dense:"",glossy:"",icon:"remove",color:"red",onClick:s=>e.removeSteps(t)},null,8,["onClick"]),i("span",pe,h(this.goalsStore.stepsComplete(t))+" / "+h(t.steps.length)+" Steps Complete",1)]),i("p",me,[m(" Reward for completion: "),o(Q,{"show-value":"",class:"text-light-blue q-ma-md shrinkP",value:this.goalsStore.goalReward(t)/1e3*100,size:"64px",color:"light-blue"},{default:r(()=>[m(h(this.goalsStore.goalReward(t)),1),he,m(" coins ")]),_:2},1032,["value"])])])):(a(),n("div",fe,[i("p",ye,[m(" Reward for completion: "),o(Q,{"show-value":"",class:"text-light-blue q-ma-md shrinkP",value:this.goalsStore.goalReward(t)/1e3*100,size:"64px",color:"light-blue"},{default:r(()=>[m(h(this.goalsStore.goalReward(t)),1),Se,m(" coins ")]),_:2},1032,["value"])])])),i("div",{class:u(["text-goal",{overdue:this.goalsStore.goalExpired(t)}])},[o(q,{modelValue:t.repeatDays,"onUpdate:modelValue":[s=>t.repeatDays=s,l[11]||(l[11]=s=>this.saveGoals())],multiple:"","multiple-sort":"",options:e.days,label:"Repeats on these days","display-value":this.goalsStore.displayRepeatDays(t.repeatDays)},null,8,["modelValue","onUpdate:modelValue","options","display-value"]),t.repeatDays&&t.repeatDays.length>0?(a(),n("div",ge,[ve,e.isRepeatingGoalDueLater(t)?(a(),n("div",ke,be)):c("",!0),i("p",null," Will occur again on "+h(this.formattedDate(this.goalsStore.nextDate(t)))+" if completed. ",1)])):c("",!0),(a(),v(D,{key:t.date,"no-outline":"",style:{"padding-right":"1e","min-width":"35%"},"input-class":"text-left text-bold",label:"Complete By",modelValue:t.date,"onUpdate:modelValue":s=>t.date=s,value:e.formattedDate(t.date),mask:this.getMaskDate(t.date),onClick:s=>e.openDatePicker(t)},{default:r(()=>[o(T,{modelValue:t.changeDateDialog,"onUpdate:modelValue":s=>t.changeDateDialog=s},{default:r(()=>[o(N,{modelValue:t.date,"onUpdate:modelValue":[s=>t.date=s,s=>e.closeDatePicker(t)]},{default:r(()=>[i("div",Ge,[w(o(d,{onClick:s=>e.unscheduleGoal(t),label:"Unschedule",color:"primary",flat:""},null,8,["onClick"]),[[A]]),w(o(d,{onClick:s=>e.closeDatePicker(t),label:"Close",color:"primary",flat:""},null,8,["onClick"]),[[A]])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","value","mask","onClick"]))],2),this.settingsStore.useNotificationBeta?(a(),n("div",Ve,[t.alertTime?(a(),n("p",Ce,[we,m("Alert Time: "+h(e.displayAlertTime(t.alertTime))+" day of goal. ",1)])):c("",!0),o(T,{modelValue:t.changeAlertTimeDialog,"onUpdate:modelValue":s=>t.changeAlertTimeDialog=s},{default:r(()=>[o(H,{modelValue:t.alertTime,"onUpdate:modelValue":[s=>t.alertTime=s,l[12]||(l[12]=s=>this.saveGoals())],onClose:s=>e.closeAlertTimeDialog(t)},{default:r(()=>[i("div",$e,[o(d,{"float-left":"",label:"Disable",onClick:s=>this.goalsStore.disableNotification(t),color:"primary",flat:""},null,8,["onClick"]),o(d,{label:"Close",color:"primary",onClick:s=>e.closeAlertTimeDialog(t),flat:""},null,8,["onClick"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onClose"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])):c("",!0)])]),_:2},1024),o(L,{dark:""}),o(U,null,{default:r(()=>[t.ready?(a(),n("div",_e,[o(d,{class:u(e.buttonClass),flat:"",glossy:"",icon:"done_all",color:"green",onClick:s=>e.completeGoal(t)},null,8,["class","onClick"])])):(a(),n("div",Te,[o(d,{class:u(e.buttonClass),flat:"",glossy:"",icon:"check",color:"green",onClick:s=>e.completeGoal(t)},null,8,["class","onClick"])])),o(d,{class:u(e.buttonClass),flat:"",glossy:"",icon:"123",color:"yellow",onClick:s=>e.toggleSteps(t),style:{"margin-left":"0"}},null,8,["class","onClick"]),this.settingsStore.useNotificationBeta?(a(),n("div",Ue,[o(d,{class:u(e.buttonClass),flat:"",glossy:"",icon:"notifications",color:"red",onClick:s=>t.changeAlertTimeDialog=!0},null,8,["class","onClick"])])):(a(),n("div",Me)),o(d,{class:u(e.buttonClass),flat:"",glossy:"",icon:"delete",color:"black",style:{"min-width":"40px"},onClick:s=>e.removeGoal(t)},null,8,["class","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[M]])),128))]),_:1}))]),_:1})}var vt=x(X,[["render",Ze]]);export{vt as default};
